"use strict";(self["webpackChunkretail_creditbox_md"]=self["webpackChunkretail_creditbox_md"]||[]).push([[177],{3177:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ml});var t=a(3673),s=a(2323),o=a(8880);const i={key:1,class:"row content-start"},c={class:"q-pa-md"},n={class:"row",style:{"max-width":"600px",margin:"auto"}},r=(0,t._)("div",{class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[(0,t._)("h6",{class:"q-pa-none q-ma-none text-primary"},"Calculator")],-1),d={key:0,class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},u=(0,t._)("span",{class:"text-primary"},"Dealer",-1),m={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},p=(0,t._)("span",{class:"text-primary"},"Tip credit",-1),v={key:1,class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},b={class:"bg-green-1 q-pa-sm text-grey-7 q-card--bordered rounded-borders text-caption"},x={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},_=(0,t._)("span",{class:"text-primary"},"Termenul creditului (luni)",-1),h={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},g={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},H=(0,t._)("span",{class:"text-primary"},"Suma creditului (MDL)",-1),E={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},V={class:"row",style:{"max-width":"800px",margin:"auto"}},w={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},f={key:1,class:"row"},C={class:"col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-3 q-pt-lg"},q=(0,t.Uk)(" DAE: "),y={key:0},P={class:"col-xl-10 col-lg-10 col-md-10 col-sm-9 col-xs-9 text-right q-py-md"},N={class:"q-table__container q-table--horizontal-separator column no-wrap q-table--dense q-table--no-wrap full-width"},k={class:"q-table"},B=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,[(0,t.Uk)("Număr"),(0,t._)("br"),(0,t.Uk)("rate")]),(0,t._)("th",null,"Data plății"),(0,t._)("th",{class:"text-right"},[(0,t.Uk)("Rambursări"),(0,t._)("br"),(0,t.Uk)("suma de bază")]),(0,t._)("th",{class:"text-right"},"Dobânda"),(0,t._)("th",{class:"text-right"},[(0,t.Uk)("Comision de"),(0,t._)("br"),(0,t.Uk)("examinare")]),(0,t._)("th",{class:"text-right"},[(0,t.Uk)("Comision de"),(0,t._)("br"),(0,t.Uk)("administrare")]),(0,t._)("th",{class:"text-right"},[(0,t.Uk)("Total de"),(0,t._)("br"),(0,t.Uk)("plată")])])],-1),D=(0,t._)("td",null,null,-1),U={class:"text-center"},R=(0,t._)("td",null,null,-1),W=(0,t._)("td",null,null,-1),I=(0,t._)("td",{class:"text-right"},"0",-1),L=(0,t._)("td",null,null,-1),S=(0,t._)("td",{class:"text-right"},"0",-1),z={class:"text-center"},F={class:"text-center"},Z={class:"text-right"},M={class:"text-right"},T={class:"text-right"},Q={class:"text-right"},O={class:"text-right"},Y=(0,t._)("td",{class:"text-right",colspan:"2"},"Total",-1),A={class:"text-right"},j={class:"text-right"},$={class:"text-right"},K={class:"text-right"},G={class:"text-right"},X={class:"col-12 row q-pb-xl q-mb-xl"},J=(0,t._)("div",{class:"col-12"},[(0,t._)("h6",{class:"q-pa-none q-ma-none text-primary"},"Adaugă o cerere nouă")],-1),ee={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},le=(0,t.Uk)("New tab"),ae={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},te={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},se={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},oe={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ie={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ce={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ne={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},re={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},de={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ue={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},me={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},pe={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ve=(0,t._)("div",{class:"col-12 text-primary"},"Persoana de contact 1",-1),be={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},xe={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},_e={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},he={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ge=(0,t._)("div",{class:"col-12 text-primary"},"Persoana de contact 2",-1),He={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},Ee={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},Ve={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},we={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},fe=(0,t._)("div",{class:"col-12 text-primary"},"Produsul sau serviciul comercializat",-1),Ce={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},qe={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs text-caption"},ye={class:"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-xs-12 q-pa-xs text-right"},Pe={class:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-xs-12 q-pa-xs text-right"};function Ne(e,l,a,Ne,ke,Be){const De=(0,t.up)("q-banner"),Ue=(0,t.up)("q-select"),Re=(0,t.up)("q-input"),We=(0,t.up)("q-btn"),Ie=(0,t.up)("q-item-section"),Le=(0,t.up)("q-item"),Se=(0,t.up)("q-list"),ze=(0,t.up)("q-menu"),Fe=(0,t.up)("q-checkbox"),Ze=(0,t.up)("q-icon"),Me=(0,t.up)("calculator-right-panel"),Te=(0,t.up)("q-splitter"),Qe=(0,t.up)("q-page"),Oe=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(Qe,null,{default:(0,t.w5)((()=>[e.authenticated?((0,t.wg)(),(0,t.iD)("div",i,[(0,t.Wm)(Te,{class:"full-width",modelValue:e.splitterModel,"onUpdate:modelValue":l[57]||(l[57]=l=>e.splitterModel=l),unit:"px",reverse:"","separator-class":"bg-indigo-3","separator-style":"width: 2px"},{before:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",n,[r,e.isDealer?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(Ue,{outlined:"",color:"primary",modelValue:e.dealer,"onUpdate:modelValue":l[0]||(l[0]=l=>e.dealer=l),options:e.dealerOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",label:"Dealer"},{label:(0,t.w5)((()=>[u])),_:1},8,["modelValue","options"])])),(0,t._)("div",m,[(0,t.Wm)(Ue,{outlined:"",color:"primary",disable:e.disableInputs,modelValue:e.product,"onUpdate:modelValue":l[1]||(l[1]=l=>e.product=l),options:e.productOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",label:"Tip credit"},{label:(0,t.w5)((()=>[p])),_:1},8,["disable","modelValue","options"])]),e.typeCreditsSelected&&e.typeCreditsSelected.id?((0,t.wg)(),(0,t.iD)("div",v,[(0,t._)("div",b,(0,s.zw)(e.typeCreditsSelected.name)+" "+(0,s.zw)(e.typeCreditsSelected.description_mini),1)])):(0,t.kq)("",!0),(0,t._)("div",x,[(0,t.Wm)(Ue,{outlined:"",color:"primary",disable:e.disableInputs,modelValue:e.creditMonths,"onUpdate:modelValue":[l[2]||(l[2]=l=>e.creditMonths=l),e.creditMonthsChanged],options:e.creditMonthsOptions,label:"Termenul creditului (luni)"},{label:(0,t.w5)((()=>[_])),_:1},8,["disable","modelValue","options","onUpdate:modelValue"])]),(0,t._)("div",h,[(0,t.Wm)(Re,{outlined:"",readonly:"",disable:e.disableInputs,modelValue:e.creditDate,"onUpdate:modelValue":l[3]||(l[3]=l=>e.creditDate=l),label:"Data cererii",mask:"##.##.####"},null,8,["disable","modelValue"])]),(0,t._)("div",g,[(0,t.Wm)(Re,{outlined:"",disable:e.disableInputs,type:"number",label:"Suma creditului (MDL)",modelValue:e.creditSum,"onUpdate:modelValue":l[4]||(l[4]=l=>e.creditSum=l)},{label:(0,t.w5)((()=>[H])),_:1},8,["disable","modelValue"])]),(0,t._)("div",E,[(0,t.Wm)(We,{size:"lg",onClick:l[5]||(l[5]=l=>e.calculate()),class:"full-height full-width",label:"Calculează",color:"primary"})])]),(0,t._)("div",V,[(0,t._)("div",w,[e.calcError?((0,t.wg)(),(0,t.j4)(De,{key:0,class:"bg-red-2 rounded-borders"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.calcError),1)])),_:1})):e.calcResultsExist?((0,t.wg)(),(0,t.iD)("div",f,[(0,t._)("div",C,[q,e.calcResults?((0,t.wg)(),(0,t.iD)("span",y,(0,s.zw)(e.calcResults.DAE)+"%",1)):(0,t.kq)("",!0)]),(0,t._)("div",P,[(0,t.Wm)(We,{size:"md",onClick:l[6]||(l[6]=l=>e.printPreContract()),icon:"print",label:"Pre-Contract",class:"q-mr-md"}),(0,t.Wm)(We,{size:"md",onClick:l[7]||(l[7]=l=>e.clearCalcResults()),icon:"clear",label:"Anulează"})]),(0,t._)("div",N,[(0,t._)("table",k,[B,(0,t._)("tbody",null,[(0,t._)("tr",null,[D,(0,t._)("td",U,(0,s.zw)(e.creditDate),1),R,W,I,L,S]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.calcResults.tabel,((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:`res-${l}`},[(0,t._)("td",z,(0,s.zw)(l),1),(0,t._)("td",F,(0,s.zw)(e.data),1),(0,t._)("td",Z,(0,s.zw)(e.imprumtPerLuna),1),(0,t._)("td",M,(0,s.zw)(e.dobindaPerLuna),1),(0,t._)("td",T,(0,s.zw)(e.comisionPerLuna),1),(0,t._)("td",Q,(0,s.zw)(e.comisionAdminPerLuna),1),(0,t._)("td",O,(0,s.zw)(e.totalPerLuna),1)])))),128)),(0,t._)("tr",null,[Y,(0,t._)("td",A,(0,s.zw)(e.calcResults.tabelTotal.imprumut),1),(0,t._)("td",j,(0,s.zw)(e.calcResults.tabelTotal.dobinda),1),(0,t._)("td",$,(0,s.zw)(e.calcResults.tabelTotal.comision),1),(0,t._)("td",K,(0,s.zw)(e.calcResults.tabelTotal.comisionAdmin),1),(0,t._)("td",G,(0,s.zw)(e.calcResults.tabelTotal.total),1)])])])])])):(0,t.kq)("",!0)])]),(0,t.wy)((0,t._)("div",X,[J,(0,t._)("div",ee,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinSNHasError,onBlur:l[9]||(l[9]=l=>e.clientBuletinSNHasError=!1),onFocus:l[10]||(l[10]=l=>e.clientBuletinSNHasError=!1),type:"text",rules:[e=>9===e.length||"9 caractere"],label:"Buletin S/N",modelValue:e.clientBuletinSN,"onUpdate:modelValue":l[11]||(l[11]=l=>e.clientBuletinSN=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(ze,{modelValue:e.showBuletinSNDropdown,"onUpdate:modelValue":l[8]||(l[8]=l=>e.showBuletinSNDropdown=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(Se,{style:{"min-width":"100px"}},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(Le,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Ie,null,{default:(0,t.w5)((()=>[le])),_:1})])),_:1})),[[Oe]])])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["disable","error","rules","modelValue"])]),(0,t._)("div",ae,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinIDNPHasError,onBlur:l[12]||(l[12]=l=>e.clientBuletinIDNPHasError=!1),onFocus:l[13]||(l[13]=l=>e.clientBuletinIDNPHasError=!1),type:"text",rules:[e=>13===e.length||"13 cifre"],label:"Buletin IDNP",modelValue:e.clientBuletinIDNP,"onUpdate:modelValue":l[14]||(l[14]=l=>e.clientBuletinIDNP=l)},null,8,["disable","error","rules","modelValue"])]),(0,t._)("div",te,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinOfficeHasError,onBlur:l[15]||(l[15]=l=>e.clientBuletinOfficeHasError=!1),onFocus:l[16]||(l[16]=l=>e.clientBuletinOfficeHasError=!1),type:"text",label:"Buletin eliberat de",modelValue:e.clientBuletinOffice,"onUpdate:modelValue":l[17]||(l[17]=l=>e.clientBuletinOffice=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",se,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientFirstNameHasError,onBlur:l[18]||(l[18]=l=>e.clientFirstNameHasError=!1),onFocus:l[19]||(l[19]=l=>e.clientFirstNameHasError=!1),type:"text",label:"Nume client",modelValue:e.clientFirstName,"onUpdate:modelValue":l[20]||(l[20]=l=>e.clientFirstName=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",oe,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLastNameHasError,onBlur:l[21]||(l[21]=l=>e.clientLastNameHasError=!1),onFocus:l[22]||(l[22]=l=>e.clientLastNameHasError=!1),type:"text",label:"Prenume client",modelValue:e.clientLastName,"onUpdate:modelValue":l[23]||(l[23]=l=>e.clientLastName=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",ie,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientPhoneHasError,onBlur:l[24]||(l[24]=l=>e.clientPhoneHasError=!1),onFocus:l[25]||(l[25]=l=>e.clientPhoneHasError=!1),type:"text",label:"Telefon",modelValue:e.clientPhone,"onUpdate:modelValue":l[26]||(l[26]=l=>e.clientPhone=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",ce,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientEmailHasError,onBlur:l[27]||(l[27]=l=>e.clientEmailHasError=!1),onFocus:l[28]||(l[28]=l=>e.clientEmailHasError=!1),type:"email",label:"Email",modelValue:e.clientEmail,"onUpdate:modelValue":l[29]||(l[29]=l=>e.clientEmail=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",ne,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBirthDateHasError,onBlur:l[30]||(l[30]=l=>e.clientBirthDateHasError=!1),onFocus:l[31]||(l[31]=l=>e.clientBirthDateHasError=!1),type:"text",mask:"##.##.####",label:"Data de naștere",modelValue:e.clientBirthDate,"onUpdate:modelValue":l[32]||(l[32]=l=>e.clientBirthDate=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",re,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientRegionHasError,onBlur:l[33]||(l[33]=l=>e.clientRegionHasError=!1),onFocus:l[34]||(l[34]=l=>e.clientRegionHasError=!1),type:"text",label:"Raion",modelValue:e.clientRegion,"onUpdate:modelValue":l[35]||(l[35]=l=>e.clientRegion=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",de,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLocalitateHasError,onBlur:l[36]||(l[36]=l=>e.clientLocalitateHasError=!1),onFocus:l[37]||(l[37]=l=>e.clientLocalitateHasError=!1),type:"text",label:"Localitate",modelValue:e.clientLocalitate,"onUpdate:modelValue":l[38]||(l[38]=l=>e.clientLocalitate=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",ue,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Strada",modelValue:e.clientStreet,"onUpdate:modelValue":l[39]||(l[39]=l=>e.clientStreet=l)},null,8,["disable","modelValue"])]),(0,t._)("div",me,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Bloc",modelValue:e.clientHouse,"onUpdate:modelValue":l[40]||(l[40]=l=>e.clientHouse=l)},null,8,["disable","modelValue"])]),(0,t._)("div",pe,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Apartament",modelValue:e.clientFlat,"onUpdate:modelValue":l[41]||(l[41]=l=>e.clientFlat=l)},null,8,["disable","modelValue"])]),ve,(0,t._)("div",be,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Nume",modelValue:e.clientFirstNameContPers1,"onUpdate:modelValue":l[42]||(l[42]=l=>e.clientFirstNameContPers1=l)},null,8,["disable","modelValue"])]),(0,t._)("div",xe,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Prenume",modelValue:e.clientLastNameContPers1,"onUpdate:modelValue":l[43]||(l[43]=l=>e.clientLastNameContPers1=l)},null,8,["disable","modelValue"])]),(0,t._)("div",_e,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Telefon",modelValue:e.clientPhoneContPers1,"onUpdate:modelValue":l[44]||(l[44]=l=>e.clientPhoneContPers1=l)},null,8,["disable","modelValue"])]),(0,t._)("div",he,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Cine este",modelValue:e.clientWhoIsContPers1,"onUpdate:modelValue":l[45]||(l[45]=l=>e.clientWhoIsContPers1=l)},null,8,["disable","modelValue"])]),ge,(0,t._)("div",He,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Nume",modelValue:e.clientFirstNameContPers2,"onUpdate:modelValue":l[46]||(l[46]=l=>e.clientFirstNameContPers2=l)},null,8,["disable","modelValue"])]),(0,t._)("div",Ee,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Prenume",modelValue:e.clientLastNameContPers2,"onUpdate:modelValue":l[47]||(l[47]=l=>e.clientLastNameContPers2=l)},null,8,["disable","modelValue"])]),(0,t._)("div",Ve,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Telefon",modelValue:e.clientPhoneContPers2,"onUpdate:modelValue":l[48]||(l[48]=l=>e.clientPhoneContPers2=l)},null,8,["disable","modelValue"])]),(0,t._)("div",we,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Cine este",modelValue:e.clientWhoIsContPers2,"onUpdate:modelValue":l[49]||(l[49]=l=>e.clientWhoIsContPers2=l)},null,8,["disable","modelValue"])]),fe,(0,t._)("div",Ce,[(0,t.Wm)(Re,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"",modelValue:e.clientProdus,"onUpdate:modelValue":l[50]||(l[50]=l=>e.clientProdus=l)},null,8,["disable","modelValue"])]),(0,t._)("div",qe,[(0,t.Wm)(Fe,{size:"sm",disable:!e.calcResultsExist||e.disableInputs,"keep-color":"",color:e.clientCbHasError?"red":"primary",onBlur:l[51]||(l[51]=l=>e.clientCbHasError=!1),onFocus:l[52]||(l[52]=l=>e.clientCbHasError=!1),modelValue:e.clientCb,"onUpdate:modelValue":l[53]||(l[53]=l=>e.clientCb=l)},null,8,["disable","color","modelValue"]),(0,t._)("span",{class:(0,s.C_)(e.clientCbHasError?"text-red":"text-gray-6")}," Prin bifarea acestei opțiuni, declar pe propria răspundere căci am fost adus la cunoștință că datele mele cu caracter personal colectate de către OCN „CREDIT BOX” SRL vor fi procesate și prelucrate, cu respectarea regimului de securitate și confidențialitate, în conformitate cu prevederile Legii nr. 133 din 8 iulie 2011 privind protecția datelor cu caracter personal, informația nefiind folosită în alte scopuri incompatibile sau remisă fără temei altor companii, urmând a fi păstrată doar pentru o perioadă de 3 ani, urmând ulterior a fi distrusă sau transformată în date anonime. Sunt conștient căci în conformitate cu art. 13-16 ale Legii nr. 133 din 8 iulie 2011 privind protecția datelor cu caracter personal am dreptul de acces, de intervenție, de opoziție, precum și de adresare în instanța de judecată,în contextul prelucrărilor efectuate asupra datelor cu caracter personal care mă vizează. ",2)]),(0,t._)("div",ye,[e.bidSuccess?((0,t.wg)(),(0,t.j4)(De,{key:0,class:"bg-positive rounded-borders text-white text-left","inline-actions":""},{action:(0,t.w5)((()=>[(0,t.Wm)(We,{flat:"",color:"white",onClick:l[54]||(l[54]=l=>e.bidSuccess=""),round:"",icon:"close"})])),default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.bidSuccess)+" ",1)])),_:1})):(0,t.kq)("",!0),e.bidError?((0,t.wg)(),(0,t.j4)(De,{key:1,class:"bg-negative rounded-borders text-white text-left","inline-actions":""},{action:(0,t.w5)((()=>[(0,t.Wm)(We,{flat:"",color:"white",onClick:l[55]||(l[55]=l=>e.bidSuccess=""),round:"",icon:"close"})])),default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.bidError)+" ",1)])),_:1})):(0,t.kq)("",!0)]),(0,t._)("div",Pe,[(0,t.Wm)(We,{color:"primary",size:"md",disable:!e.calcResultsExist||e.disableInputs,onClick:l[56]||(l[56]=l=>e.addNewBid()),label:"Trimite"},null,8,["disable"])])],512),[[o.F8,e.calcResultsExist&&e.isDealer]])])])),separator:(0,t.w5)((()=>[(0,t.Wm)(Ze,{color:"indigo-4",size:"25px",name:"more_vert"})])),after:(0,t.w5)((()=>[(0,t.Wm)(Me)])),_:1},8,["modelValue"])])):((0,t.wg)(),(0,t.j4)(De,{key:0}))])),_:1})}var ke=a(1959),Be=a(5474),De=a(3413),Ue=a(3617);const Re=(0,t._)("div",{class:"q-ma-lg text-red"},"work in progress :) modul in lucru",-1);function We(e,l,a,s,o,i){const c=(0,t.up)("q-tab"),n=(0,t.up)("q-tabs"),r=(0,t.up)("bids-list-for-calculator"),d=(0,t.up)("q-tab-panel"),u=(0,t.up)("q-tab-panels");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(n,{modelValue:s.tab,"onUpdate:modelValue":l[0]||(l[0]=e=>s.tab=e),"narrow-indicator":"",dense:"",align:"justify",class:"text-primary"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.tabs,((e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[e.hidden?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(c,{key:`tab-${l}`,ripple:!1,onClick:l=>s.setModel(e.name),name:e.name,icon:e.icon,label:e.label},null,8,["onClick","name","icon","label"]))],64)))),256))])),_:1},8,["modelValue"]),(0,t.Wm)(u,{modelValue:s.tab,"onUpdate:modelValue":l[1]||(l[1]=e=>s.tab=e),animated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"Bids",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1}),(0,t.Wm)(d,{name:"Contracts",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1}),(0,t.Wm)(d,{name:"Chat",class:"q-pa-none"},{default:(0,t.w5)((()=>[Re])),_:1})])),_:1},8,["modelValue"])])}var Ie=a(5528);const Le={name:"CalculatorRightPanel",components:{BidsListForCalculator:Ie.Z},setup(){const e=(0,Ue.oR)(),l=(0,ke.iH)("Bids"),a=(0,ke.iH)([{name:"Bids",label:"Cereri",icon:"",hidden:!1},{name:"Contracts",label:"Contracte",icon:"",hidden:!1},{name:"Chat",label:"Chat",icon:"",hidden:!1}]),t=a=>{e.commit("auth/updateActiveModule",a),l.value=a};return t("Bids"),{tab:l,tabs:a,setModel:t}}};var Se=a(4260),ze=a(7547),Fe=a(3269),Ze=a(5906),Me=a(6602),Te=a(7518),Qe=a.n(Te);const Oe=(0,Se.Z)(Le,[["render",We]]),Ye=Oe;Qe()(Le,"components",{QTabs:ze.Z,QTab:Fe.Z,QTabPanels:Ze.Z,QTabPanel:Me.Z});const Ae=(0,t.aZ)({name:"Calculator",components:{CalculatorRightPanel:Ye},setup(){const e=(0,ke.iH)(580),l=(0,Ue.oR)(),a=(0,ke.iH)(!1),s=(0,ke.iH)(!1),o=(0,ke.iH)(!1),i=(0,t.Fl)((()=>!!l.getters["auth/getToken"])),c=(0,ke.iH)(null),n=(0,ke.iH)(""),r=(0,ke.iH)(null),d=(0,ke.iH)([]),u=(0,ke.iH)([]),m=(0,ke.iH)(null),p=(0,ke.iH)([]),v=(0,ke.iH)({}),b=(0,ke.iH)([]),x=(0,ke.iH)([]),_=(0,ke.iH)(0),h=(0,ke.iH)(0),g=(0,ke.iH)(!1),H=new Date,E=(0,ke.iH)((0,De.vc)(H,"DD.MM.YYYY")),V=(0,ke.iH)((0,De.vc)(H,"YYYY/MM/DD")),w=(0,ke.iH)((0,De.vc)(new Date(H.setMonth(H.getMonth()+1)),"YYYY/MM/DD")),f=(0,ke.iH)(!1),C=(0,ke.iH)(""),q=(0,ke.iH)(!1),y=(0,ke.iH)(""),P=(0,ke.iH)(!1),N=(0,ke.iH)(""),k=(0,ke.iH)(!1),B=(0,ke.iH)(""),D=(0,ke.iH)(!1),U=(0,ke.iH)(""),R=(0,ke.iH)(!1),W=(0,ke.iH)(""),I=(0,ke.iH)(!1),L=(0,ke.iH)(""),S=(0,ke.iH)(!1),z=(0,ke.iH)(""),F=(0,ke.iH)(!1),Z=(0,ke.iH)(""),M=(0,ke.iH)(!1),T=(0,ke.iH)(""),Q=(0,ke.iH)(!1),O=(0,ke.iH)(""),Y=(0,ke.iH)(""),A=(0,ke.iH)(""),j=(0,ke.iH)(0),$=(0,ke.iH)({}),K=(0,ke.iH)(""),G=(0,ke.iH)(""),X=(0,ke.iH)(""),J=(0,ke.iH)(""),ee=(0,ke.iH)(""),le=(0,ke.iH)(""),ae=(0,ke.iH)(""),te=(0,ke.iH)(""),se=(0,ke.iH)(""),oe=(0,ke.iH)(!1),ie=(0,ke.iH)(!1),ce=(0,ke.iH)(""),ne=(0,ke.iH)(""),re=(0,ke.iH)(!0),de=(0,t.Fl)((()=>l.getters["auth/getUser"]));(0,t.m0)((()=>{s.value=de.value.role_id===De.M6,a.value=de.value.role_id===De.i,o.value=de.value.role_id===De.Vz}));const ue=(0,t.Fl)((()=>De.Ah));l.commit("auth/updateActiveModule","Calculator");const me=()=>{(0,De.WW)(1,"/print/pre-contract","pre-contract")},pe=()=>{c.value=null,g.value=!1,n.value="",C.value="",y.value="",N.value="",B.value="",U.value="",W.value="",L.value="",z.value="",T.value="",Z.value="",oe.value=!1,ie.value=!1},ve=()=>{j.value&&((0,De.QP)(),Be.api.get(`/dealers/get-data-by-id/${j.value}`).then((e=>{(0,De.Zk)(),e.data.success?(l.commit("dealers/updateOpenedDealerData",e.data.data),$.value=e.data.data,$.value.dealer_products&&(u.value=[],Object.keys($.value.dealer_products).forEach((e=>{const l=$.value.dealer_products[e].product_id;d.value.forEach(((e,a)=>{e.id===l&&u.value.push(e),0===a&&(r.value=l)}))})))):(0,De.NU)({message:e.data.data.message})})).catch((e=>{(0,De.Zk)(),(0,De.NU)({},e)})))},be=()=>{pe(),v.value={},p.value=[],u.value.forEach((e=>{e&&e.id===r.value&&b.value.forEach((l=>{l&&l.product_id===e.id&&(v.value=l,h.value=l.months_fix,p.value.push(l.months_fix),_.value=l.sum_min>1?l.sum_min:1e3)}))}))},xe=()=>{pe(),u.value.forEach((e=>{e&&e.id===r.value&&b.value.forEach((l=>{l&&l.product_id===e.id&&h.value===l.months_fix&&(v.value=l)}))}))},_e=e=>w.value&&V.value?e>=V.value&&e<=w.value:w.value?e<=w.value:!V.value||e<=V.value,he=()=>{g.value=!0,n.value="",ce.value="",ne.value="",Be.api.post("/type-credits-calculate",{sum:_.value,date:E.value,type:v.value.id,months:h.value}).then((e=>{g.value=!1,e.data.success?c.value=e.data.data:n.value=e.data.data.message})).catch((e=>{g.value=!1,(0,De.NU)({},e)}))},ge=()=>{if(ie.value=!1,C.value||(q.value=!0),y.value||(P.value=!0),N.value||(k.value=!0),U.value||(R.value=!0),W.value&&13===W.value.length||(I.value=!0),z.value){const e=z.value.split(".");e[0]&&parseInt(e[0],10)>31&&(F.value=!0),e[1]&&parseInt(e[1],10)>12&&(F.value=!0),e[2]&&parseInt(e[2],10)<1930&&(F.value=!0),e[2]&&parseInt(e[2],10)>2022&&(F.value=!0)}else F.value=!0;if(Z.value||T.value||(Q.value=!0),oe.value||(ie.value=!0),ne.value="",ce.value="",!q.value&&!P.value&&!k.value&&!R.value&&!I.value&&!F.value&&!Q.value&&!M.value&&!ie.value&&f.value&&v.value&&v.value.id){const e={first_name:C.value,last_name:y.value,phone1:N.value,email:B.value,birth_date:z.value,buletin_sn:U.value,buletin_idnp:W.value,buletin_office:L.value,localitate:T.value,region:Z.value,street:O.value,house:Y.value,flat:A.value,dealer:j.value,who_is_cont_pers1:K.value,phone_cont_pers1:G.value,last_name_cont_pers1:X.value,first_name_cont_pers1:J.value,who_is_cont_pers2:le.value,produs:ee.value,phone_cont_pers2:ae.value,last_name_cont_pers2:te.value,first_name_cont_pers2:se.value,type_credit_id:v.value.id,type_credit_name:v.value.name,calc_results:c.value,bid_date:E.value,months:h.value,imprumut:_.value,total_dobinda:c.value.tabelTotal.dobinda,total_comision:c.value.tabelTotal.comision,total_comision_admin:c.value.tabelTotal.comisionAdmin};g.value=!0,Be.api.post("/bids/add-or-edit/0",e).then((e=>{g.value=!1,e.data.success?(ne.value="Cererea a fost trimisă cu succes! În scurt timp (5-7min) clientul va primi un apel telefonic",pe(),l.commit("users/updateRefreshGridBidsCalculator",!0)):ce.value=e.data.data.message})).catch((e=>{g.value=!1,(0,De.NU)({},e)}))}},He=()=>{Be.api.post("/type-credits-list",{}).then((e=>{(0,De.Zk)(),e.data.success&&Be.api.post("/products-list").then((l=>{l.data.success?(d.value=l.data.data.data,u.value=l.data.data.data,u.value.forEach(((l,a)=>{0===a&&(r.value=l.id,e.data.data.data.forEach((e=>{b.value.push(e),e.product_id===l.id&&(m.value=e.id)})))}))):(0,De.NU)({message:e.data.data.message})})).catch((e=>{(0,De.NU)({},e)}))})).catch((e=>{(0,De.Zk)(),(0,De.NU)({},e)}))};return(0,t.m0)((()=>{r.value&&be()})),(0,t.m0)((()=>{j.value&&ve()})),(0,t.m0)((()=>{f.value=c.value&&c.value.tabel})),(0,t.bv)((()=>{He(),Be.api.post("/dealers-list",{}).then((e=>{(0,De.Zk)(),e.data.success&&e.data.data.data.forEach(((e,l)=>{x.value.push(e),0===l&&(j.value=e.id)}))})).catch((e=>{(0,De.Zk)(),(0,De.NU)({},e)}))})),{isExecutor:s,isAdmin:a,isDealer:o,authenticated:i,typeCredits:m,typeCreditsOptions:b,typeCreditsSelected:v,creditMonths:h,creditSum:_,creditDate:E,disableInputs:g,calendarOptions:_e,calendarLocaleRoLocal:ue,calculate:he,calcError:n,calcResults:c,calcResultsExist:f,printPreContract:me,clearCalcResults:pe,clientFirstName:C,clientFirstNameHasError:q,clientLastName:y,clientLastNameHasError:P,clientPhone:N,clientPhoneHasError:k,clientEmail:B,clientEmailHasError:D,clientBuletinSN:U,clientBuletinSNHasError:R,clientBuletinIDNP:W,clientBuletinIDNPHasError:I,clientBuletinOffice:L,clientBuletinOfficeHasError:S,clientBirthDate:z,clientBirthDateHasError:F,clientRegion:Z,clientRegionHasError:M,clientLocalitate:T,clientLocalitateHasError:Q,clientStreet:O,clientHouse:Y,clientFlat:A,dealer:j,clientWhoIsContPers1:K,clientPhoneContPers1:G,clientLastNameContPers1:X,clientFirstNameContPers1:J,clientProdus:ee,clientWhoIsContPers2:le,clientPhoneContPers2:ae,clientLastNameContPers2:te,clientFirstNameContPers2:se,clientCb:oe,clientCbHasError:ie,addNewBid:ge,bidError:ce,bidSuccess:ne,splitterModel:e,dealerOptions:x,productOptions:u,product:r,dealerChanged:ve,creditMonthsOptions:p,creditMonthsChanged:xe,showBuletinSNDropdown:re}}});var je=a(4379),$e=a(5607),Ke=a(218),Ge=a(8516),Xe=a(151),Je=a(4842),el=a(4554),ll=a(3944),al=a(6915),tl=a(2165),sl=a(8107),ol=a(811),il=a(7011),cl=a(3414),nl=a(2035),rl=a(5735),dl=a(677);const ul=(0,Se.Z)(Ae,[["render",Ne]]),ml=ul;Qe()(Ae,"components",{QPage:je.Z,QBanner:$e.Z,QSplitter:Ke.Z,QSelect:Ge.Z,QCard:Xe.Z,QInput:Je.Z,QIcon:el.Z,QPopupProxy:ll.Z,QDate:al.Z,QBtn:tl.Z,QTable:sl.Z,QMenu:ol.Z,QList:il.Z,QItem:cl.Z,QItemSection:nl.Z,QCheckbox:rl.Z}),Qe()(Ae,"directives",{ClosePopup:dl.Z})}}]);