"use strict";(self["webpackChunkretail_creditbox_md"]=self["webpackChunkretail_creditbox_md"]||[]).push([[405],{1371:(e,l,t)=>{t.r(l),t.d(l,{default:()=>je});var a=t(3673),o=t(2323),s=t(8880);const i={key:1,class:"row content-start"},c={class:"q-pa-md"},r={class:"row",style:{"max-width":"600px",margin:"auto"}},n=(0,a._)("div",{class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[(0,a._)("h6",{class:"q-pa-none q-ma-none text-primary"},"Calculator")],-1),d={key:0,class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},u=(0,a._)("span",{class:"text-primary"},"Dealer",-1),m={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},p=(0,a._)("span",{class:"text-primary"},"Tip credit",-1),v={key:1,class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},b={class:"bg-green-1 q-pa-sm text-grey-7 q-card--bordered rounded-borders text-caption"},x={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},h=(0,a._)("span",{class:"text-primary"},"Termenul creditului (luni)",-1),_={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},g={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},f=(0,a._)("span",{class:"text-primary"},"Suma creditului (MDL)",-1),H={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},w={class:"row",style:{"max-width":"800px",margin:"auto"}},y={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},V={key:1,class:"row"},E={class:"col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-3 q-pt-lg"},q=(0,a.Uk)(" DAE: "),C={key:0},k={class:"col-xl-10 col-lg-10 col-md-10 col-sm-9 col-xs-9 text-right q-py-md"},B={class:"q-table__container q-table--horizontal-separator column no-wrap q-table--dense q-table--no-wrap full-width"},D={class:"q-table"},N=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,[(0,a.Uk)("Număr"),(0,a._)("br"),(0,a.Uk)("rate")]),(0,a._)("th",null,"Data plății"),(0,a._)("th",{class:"text-right"},[(0,a.Uk)("Rambursări"),(0,a._)("br"),(0,a.Uk)("suma de bază")]),(0,a._)("th",{class:"text-right"},"Dobânda"),(0,a._)("th",{class:"text-right"},[(0,a.Uk)("Comision de"),(0,a._)("br"),(0,a.Uk)("examinare")]),(0,a._)("th",{class:"text-right"},[(0,a.Uk)("Comision de"),(0,a._)("br"),(0,a.Uk)("administrare")]),(0,a._)("th",{class:"text-right"},[(0,a.Uk)("Total de"),(0,a._)("br"),(0,a.Uk)("plată")])])],-1),P=(0,a._)("td",null,null,-1),U={class:"text-center"},F=(0,a._)("td",null,null,-1),I=(0,a._)("td",null,null,-1),S=(0,a._)("td",{class:"text-right"},"0",-1),R=(0,a._)("td",null,null,-1),W=(0,a._)("td",{class:"text-right"},"0",-1),z={class:"text-center"},L={class:"text-center"},M={class:"text-right"},Z={class:"text-right"},T={class:"text-right"},A={class:"text-right"},Q={class:"text-right"},Y=(0,a._)("td",{class:"text-right",colspan:"2"},"Total",-1),O={class:"text-right"},j={class:"text-right"},$={class:"text-right"},G={class:"text-right"},K={class:"text-right"},X={class:"col-12 row q-pb-xl q-mb-xl"},J=(0,a._)("div",{class:"col-12"},[(0,a._)("h6",{class:"q-pa-none q-ma-none text-primary"},"Adaugă o cerere nouă")],-1),ee={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},le={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},te={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ae={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},oe={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},se={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ie={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ce={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},re={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ne={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},de=(0,a._)("div",{class:"col-12 text-primary"},"Persoana de contact",-1),ue={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},me={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},pe={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ve={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},be={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs text-caption"},xe={class:"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-xs-12 q-pa-xs text-right"},he={class:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-xs-12 q-pa-xs text-right"};function _e(e,l,t,_e,ge,fe){const He=(0,a.up)("q-banner"),we=(0,a.up)("q-select"),ye=(0,a.up)("q-input"),Ve=(0,a.up)("q-btn"),Ee=(0,a.up)("autocomplete-field"),qe=(0,a.up)("q-checkbox"),Ce=(0,a.up)("q-icon"),ke=(0,a.up)("bids-list-for-calculator"),Be=(0,a.up)("q-splitter"),De=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(De,null,{default:(0,a.w5)((()=>[e.authenticated?((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(Be,{class:"full-width",modelValue:e.splitterModel,"onUpdate:modelValue":l[42]||(l[42]=l=>e.splitterModel=l),unit:"px",reverse:"","separator-class":"bg-indigo-3","separator-style":"width: 2px"},{before:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("div",r,[n,e.isDealer?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(we,{outlined:"",color:"primary",modelValue:e.dealer,"onUpdate:modelValue":[l[0]||(l[0]=l=>e.dealer=l),e.dealerChanged],options:e.dealerOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",label:"Dealer"},{label:(0,a.w5)((()=>[u])),_:1},8,["modelValue","options","onUpdate:modelValue"])])),(0,a._)("div",m,[(0,a.Wm)(we,{outlined:"",color:"primary",disable:e.disableInputs,modelValue:e.product,"onUpdate:modelValue":l[1]||(l[1]=l=>e.product=l),options:e.productOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",label:"Tip credit"},{label:(0,a.w5)((()=>[p])),_:1},8,["disable","modelValue","options"])]),e.typeCreditsSelected&&e.typeCreditsSelected.id?((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",b,(0,o.zw)(e.typeCreditsSelected.name)+" "+(0,o.zw)(e.typeCreditsSelected.description_mini),1)])):(0,a.kq)("",!0),(0,a._)("div",x,[(0,a.Wm)(we,{outlined:"",color:"primary",disable:e.disableInputs,modelValue:e.creditMonths,"onUpdate:modelValue":[l[2]||(l[2]=l=>e.creditMonths=l),e.creditMonthsChanged],options:e.creditMonthsOptions,label:"Termenul creditului (luni)"},{label:(0,a.w5)((()=>[h])),_:1},8,["disable","modelValue","options","onUpdate:modelValue"])]),(0,a._)("div",_,[(0,a.Wm)(ye,{outlined:"",readonly:"",disable:e.disableInputs,modelValue:e.creditDate,"onUpdate:modelValue":l[3]||(l[3]=l=>e.creditDate=l),label:"Data cererii",mask:"##.##.####"},null,8,["disable","modelValue"])]),(0,a._)("div",g,[(0,a.Wm)(ye,{outlined:"",disable:e.disableInputs,type:"number",label:"Suma creditului (MDL)",modelValue:e.creditSum,"onUpdate:modelValue":l[4]||(l[4]=l=>e.creditSum=l)},{label:(0,a.w5)((()=>[f])),_:1},8,["disable","modelValue"])]),(0,a._)("div",H,[(0,a.Wm)(Ve,{size:"lg",onClick:l[5]||(l[5]=l=>e.calculate()),class:"full-height full-width",label:"Calculează",color:"primary"})])]),(0,a._)("div",w,[(0,a._)("div",y,[e.calcError?((0,a.wg)(),(0,a.j4)(He,{key:0,class:"bg-red-2 rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.calcError),1)])),_:1})):e.calcResultsExist?((0,a.wg)(),(0,a.iD)("div",V,[(0,a._)("div",E,[q,e.calcResults?((0,a.wg)(),(0,a.iD)("span",C,(0,o.zw)(e.calcResults.DAE)+"%",1)):(0,a.kq)("",!0)]),(0,a._)("div",k,[(0,a.Wm)(Ve,{size:"md",onClick:l[6]||(l[6]=l=>e.printPreContract()),icon:"print",label:"Pre-Contract",class:"q-mr-md"}),(0,a.Wm)(Ve,{size:"md",onClick:l[7]||(l[7]=l=>e.clearCalcResults()),icon:"clear",label:"Anulează"})]),(0,a._)("div",B,[(0,a._)("table",D,[N,(0,a._)("tbody",null,[(0,a._)("tr",null,[P,(0,a._)("td",U,(0,o.zw)(e.creditDate),1),F,I,S,R,W]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.calcResults.tabel,((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:`res-${l}`},[(0,a._)("td",z,(0,o.zw)(l),1),(0,a._)("td",L,(0,o.zw)(e.data),1),(0,a._)("td",M,(0,o.zw)(e.imprumtPerLuna),1),(0,a._)("td",Z,(0,o.zw)(e.dobindaPerLuna),1),(0,a._)("td",T,(0,o.zw)(e.comisionPerLuna),1),(0,a._)("td",A,(0,o.zw)(e.comisionAdminPerLuna),1),(0,a._)("td",Q,(0,o.zw)(e.totalPerLuna),1)])))),128)),(0,a._)("tr",null,[Y,(0,a._)("td",O,(0,o.zw)(e.calcResults.tabelTotal.imprumut),1),(0,a._)("td",j,(0,o.zw)(e.calcResults.tabelTotal.dobinda),1),(0,a._)("td",$,(0,o.zw)(e.calcResults.tabelTotal.comision),1),(0,a._)("td",G,(0,o.zw)(e.calcResults.tabelTotal.comisionAdmin),1),(0,a._)("td",K,(0,o.zw)(e.calcResults.tabelTotal.total),1)])])])])])):(0,a.kq)("",!0)])]),(0,a.wy)((0,a._)("div",X,[J,(0,a._)("div",ee,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientFirstNameHasError,onBlur:l[8]||(l[8]=l=>e.clientFirstNameHasError=!1),onFocus:l[9]||(l[9]=l=>e.clientFirstNameHasError=!1),type:"text",label:"Nume client",modelValue:e.clientFirstName,"onUpdate:modelValue":l[10]||(l[10]=l=>e.clientFirstName=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",le,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLastNameHasError,onBlur:l[11]||(l[11]=l=>e.clientLastNameHasError=!1),onFocus:l[12]||(l[12]=l=>e.clientLastNameHasError=!1),type:"text",label:"Prenume client",modelValue:e.clientLastName,"onUpdate:modelValue":l[13]||(l[13]=l=>e.clientLastName=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",te,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientPhoneHasError,onBlur:l[14]||(l[14]=l=>e.clientPhoneHasError=!1),onFocus:l[15]||(l[15]=l=>e.clientPhoneHasError=!1),type:"text",label:"Telefon",modelValue:e.clientPhone,"onUpdate:modelValue":l[16]||(l[16]=l=>e.clientPhone=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",ae,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBirthDateHasError,onBlur:l[17]||(l[17]=l=>e.clientBirthDateHasError=!1),onFocus:l[18]||(l[18]=l=>e.clientBirthDateHasError=!1),type:"text",mask:"##.##.####",label:"Data de naștere",modelValue:e.clientBirthDate,"onUpdate:modelValue":l[19]||(l[19]=l=>e.clientBirthDate=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",oe,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinSNHasError,onBlur:l[20]||(l[20]=l=>e.clientBuletinSNHasError=!1),onFocus:l[21]||(l[21]=l=>e.clientBuletinSNHasError=!1),type:"text",rules:[e=>9===e.length||"9 caractere"],label:"Buletin S/N",modelValue:e.clientBuletinSN,"onUpdate:modelValue":l[22]||(l[22]=l=>e.clientBuletinSN=l)},null,8,["disable","error","rules","modelValue"])]),(0,a._)("div",se,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinIDNPHasError,onBlur:l[23]||(l[23]=l=>e.clientBuletinIDNPHasError=!1),onFocus:l[24]||(l[24]=l=>e.clientBuletinIDNPHasError=!1),type:"text",rules:[e=>13===e.length||"13 cifre"],label:"Buletin IDNP",modelValue:e.clientBuletinIDNP,"onUpdate:modelValue":l[25]||(l[25]=l=>e.clientBuletinIDNP=l)},null,8,["disable","error","rules","modelValue"])]),(0,a._)("div",ie,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLocalitateHasError,onBlur:l[26]||(l[26]=l=>e.clientLocalitateHasError=!1),onFocus:l[27]||(l[27]=l=>e.clientLocalitateHasError=!1),type:"text",label:"Localitate",modelValue:e.clientLocalitate,"onUpdate:modelValue":l[28]||(l[28]=l=>e.clientLocalitate=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",ce,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Strada",modelValue:e.clientStreet,"onUpdate:modelValue":l[29]||(l[29]=l=>e.clientStreet=l)},null,8,["disable","modelValue"])]),(0,a._)("div",re,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Bloc",modelValue:e.clientHouse,"onUpdate:modelValue":l[30]||(l[30]=l=>e.clientHouse=l)},null,8,["disable","modelValue"])]),(0,a._)("div",ne,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Apartament",modelValue:e.clientFlat,"onUpdate:modelValue":l[31]||(l[31]=l=>e.clientFlat=l)},null,8,["disable","modelValue"])]),de,(0,a._)("div",ue,[(0,a.Wm)(Ee,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Nume",modelValue:e.clientFirstNameContPers1,"onUpdate:modelValue":l[32]||(l[32]=l=>e.clientFirstNameContPers1=l)},null,8,["disable","modelValue"])]),(0,a._)("div",me,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Prenume",modelValue:e.clientLastNameContPers1,"onUpdate:modelValue":l[33]||(l[33]=l=>e.clientLastNameContPers1=l)},null,8,["disable","modelValue"])]),(0,a._)("div",pe,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Telefon",modelValue:e.clientPhoneContPers1,"onUpdate:modelValue":l[34]||(l[34]=l=>e.clientPhoneContPers1=l)},null,8,["disable","modelValue"])]),(0,a._)("div",ve,[(0,a.Wm)(ye,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Cine este",modelValue:e.clientWhoIsContPers1,"onUpdate:modelValue":l[35]||(l[35]=l=>e.clientWhoIsContPers1=l)},null,8,["disable","modelValue"])]),(0,a._)("div",be,[(0,a.Wm)(qe,{size:"sm",disable:!e.calcResultsExist||e.disableInputs,"keep-color":"",color:e.clientCbHasError?"red":"primary",onBlur:l[36]||(l[36]=l=>e.clientCbHasError=!1),onFocus:l[37]||(l[37]=l=>e.clientCbHasError=!1),modelValue:e.clientCb,"onUpdate:modelValue":l[38]||(l[38]=l=>e.clientCb=l)},null,8,["disable","color","modelValue"]),(0,a._)("span",{class:(0,o.C_)(e.clientCbHasError?"text-red":"text-gray-6")}," Prin bifarea acestei opțiuni, declar pe propria răspundere căci am fost adus la cunoștință că datele mele cu caracter personal colectate de către OCN „CREDIT BOX” SRL vor fi procesate și prelucrate, cu respectarea regimului de securitate și confidențialitate, în conformitate cu prevederile Legii nr. 133 din 8 iulie 2011 privind protecția datelor cu caracter personal, informația nefiind folosită în alte scopuri incompatibile sau remisă fără temei altor companii, urmând a fi păstrată doar pentru o perioadă de 3 ani, urmând ulterior a fi distrusă sau transformată în date anonime. Sunt conștient căci în conformitate cu art. 13-16 ale Legii nr. 133 din 8 iulie 2011 privind protecția datelor cu caracter personal am dreptul de acces, de intervenție, de opoziție, precum și de adresare în instanța de judecată,în contextul prelucrărilor efectuate asupra datelor cu caracter personal care mă vizează. ",2)]),(0,a._)("div",xe,[e.bidSuccess?((0,a.wg)(),(0,a.j4)(He,{key:0,class:"bg-positive rounded-borders text-white text-left","inline-actions":""},{action:(0,a.w5)((()=>[(0,a.Wm)(Ve,{flat:"",color:"white",onClick:l[39]||(l[39]=l=>e.bidSuccess=""),round:"",icon:"close"})])),default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.bidSuccess)+" ",1)])),_:1})):(0,a.kq)("",!0),e.bidError?((0,a.wg)(),(0,a.j4)(He,{key:1,class:"bg-negative rounded-borders text-white text-left","inline-actions":""},{action:(0,a.w5)((()=>[(0,a.Wm)(Ve,{flat:"",color:"white",onClick:l[40]||(l[40]=l=>e.bidSuccess=""),round:"",icon:"close"})])),default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.bidError)+" ",1)])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",he,[(0,a.Wm)(Ve,{color:"primary",size:"md",disable:!e.calcResultsExist||e.disableInputs,onClick:l[41]||(l[41]=l=>e.addNewBid()),label:"Trimite"},null,8,["disable"])])],512),[[s.F8,e.calcResultsExist]])])])),separator:(0,a.w5)((()=>[(0,a.Wm)(Ce,{color:"indigo-4",size:"25px",name:"more_vert"})])),after:(0,a.w5)((()=>[(0,a.Wm)(ke)])),_:1},8,["modelValue"])])):((0,a.wg)(),(0,a.j4)(He,{key:0}))])),_:1})}var ge=t(1959),fe=t(5474),He=t(3413),we=t(3617),ye=t(2663);function Ve(e,l,t,o,s,i){const c=(0,a.up)("q-select");return(0,a.wg)(),(0,a.j4)(c,{filled:t.filled,dense:t.dense,outlined:t.outlined,value:s.model,readonly:t.readonly,disable:t.disable,error:t.error,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:s.options,onFilter:i.filterFn,onFilterAbort:i.abortFilterFn,onInputValue:i.setModel,onBlur:i.onBlur,onFocus:i.onFocus,"hide-dropdown-icon":!0,behavior:"menu",loading:s.loading,hint:t.hint,label:t.label,autocomplete:`off-autocomplete-${s.uniqId}`},{"no-option":(0,a.w5)((()=>[])),_:1},8,["filled","dense","outlined","value","readonly","disable","error","options","onFilter","onFilterAbort","onInputValue","onBlur","onFocus","loading","hint","label","autocomplete"])}const Ee={name:"AutocompleteField",props:{outlined:{type:Boolean,default:!1},filled:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},label:{type:String,default:""},value:{type:String,default:""},hint:{type:String,default:""},what:{type:String,default:""},forceValue:{type:String,default:""}},data(){return{model:null,options:[],loading:!1,uniqId:`id${Math.random().toString(16).slice(2)}`}},emits:["blur","input","focus"],methods:{filterFn(e,l){l((()=>{this.loading=!0,fe.api.post("/autocomplete",{search:this.what?this.what:this.label,q:this.model}).then((e=>{this.loading=!1;const t=[];e.data.data.data&&e.data.data.data.forEach((e=>{-1===t.indexOf(e)&&t.push(e.text)})),this.options=t,l()})).catch((()=>{this.loading=!1}))}))},abortFilterFn(){},setModel(e){this.model=e},onBlur(e){this.$emit("blur",e)},onFocus(e){this.$emit("focus",e)}},watch:{model(e){this.$emit("input",e)},value(e){this.setModel(e)}},mounted(){this.forceValue&&this.setModel(this.forceValue)}};var qe=t(4260),Ce=t(8516),ke=t(3414),Be=t(2035),De=t(7518),Ne=t.n(De);const Pe=(0,qe.Z)(Ee,[["render",Ve]]),Ue=Pe;Ne()(Ee,"components",{QSelect:Ce.Z,QItem:ke.Z,QItemSection:Be.Z});const Fe=(0,a.aZ)({name:"Calculator",components:{AutocompleteField:Ue,BidsListForCalculator:ye.Z},setup(){const e=(0,ge.iH)(580),l=(0,we.oR)(),t=(0,ge.iH)(!1),o=(0,ge.iH)(!1),s=(0,ge.iH)(!1),i=(0,a.Fl)((()=>!!l.getters["auth/getToken"])),c=(0,ge.iH)(null),r=(0,ge.iH)(""),n=(0,ge.iH)(null),d=(0,ge.iH)([]),u=(0,ge.iH)(null),m=(0,ge.iH)([]),p=(0,ge.iH)({}),v=(0,ge.iH)([]),b=(0,ge.iH)([]),x=(0,ge.iH)(0),h=(0,ge.iH)(0),_=(0,ge.iH)(!1),g=new Date,f=(0,ge.iH)((0,He.vc)(g,"DD.MM.YYYY")),H=(0,ge.iH)((0,He.vc)(g,"YYYY/MM/DD")),w=(0,ge.iH)((0,He.vc)(new Date(g.setMonth(g.getMonth()+1)),"YYYY/MM/DD")),y=(0,ge.iH)(!1),V=(0,ge.iH)(""),E=(0,ge.iH)(!1),q=(0,ge.iH)(""),C=(0,ge.iH)(!1),k=(0,ge.iH)(""),B=(0,ge.iH)(!1),D=(0,ge.iH)(""),N=(0,ge.iH)(!1),P=(0,ge.iH)(""),U=(0,ge.iH)(!1),F=(0,ge.iH)(""),I=(0,ge.iH)(!1),S=(0,ge.iH)(""),R=(0,ge.iH)(!1),W=(0,ge.iH)(""),z=(0,ge.iH)(""),L=(0,ge.iH)(""),M=(0,ge.iH)(""),Z=(0,ge.iH)(0),T=(0,ge.iH)(""),A=(0,ge.iH)(""),Q=(0,ge.iH)(""),Y=(0,ge.iH)(!1),O=(0,ge.iH)(!1),j=(0,ge.iH)(""),$=(0,ge.iH)(""),G=(0,a.Fl)((()=>l.getters["auth/getUser"]));(0,a.m0)((()=>{o.value=G.value.role_id===He.M6,t.value=G.value.role_id===He.i,s.value=G.value.role_id===He.Vz}));const K=(0,a.Fl)((()=>He.Ah));l.commit("auth/updateActiveModule","Calculator");const X=()=>{(0,He.WW)(1,"/print/pre-contract","pre-contract")},J=()=>{},ee=()=>{p.value={},m.value=[],d.value.forEach((e=>{e&&e.id===n.value&&v.value.forEach((l=>{l&&l.product_id===e.id&&(p.value=l,h.value=l.months_fix,m.value.push(l.months_fix),x.value=l.sum_min>1?l.sum_min:1e3)}))}))},le=()=>{d.value.forEach((e=>{e&&e.id===n.value&&v.value.forEach((l=>{l&&l.product_id===e.id&&h.value===l.months_fix&&(p.value=l)}))}))},te=e=>w.value&&H.value?e>=H.value&&e<=w.value:w.value?e<=w.value:!H.value||e<=H.value,ae=()=>{_.value=!0,r.value="",j.value="",$.value="",fe.api.post("/type-credits-calculate",{sum:x.value,date:f.value,type:p.value.id,months:h.value}).then((e=>{_.value=!1,e.data.success?c.value=e.data.data:r.value=e.data.data.message})).catch((e=>{_.value=!1,(0,He.NU)({},e)}))},oe=()=>{c.value=null,_.value=!1,r.value="",V.value="",q.value="",k.value="",D.value="",P.value="",F.value="",S.value="",Y.value=!1,O.value=!1},se=()=>{if(O.value=!1,V.value||(E.value=!0),q.value||(C.value=!0),k.value||(B.value=!0),D.value||(N.value=!0),P.value&&13===P.value.length||(U.value=!0),F.value||(I.value=!0),S.value||(R.value=!0),Y.value||(O.value=!0),$.value="",j.value="",!E.value&&!C.value&&!B.value&&!N.value&&!U.value&&!I.value&&!R.value&&!O.value&&y.value&&p.value&&p.value.id){const e={first_name:V.value,last_name:q.value,phone1:k.value,birth_date:F.value,buletin_sn:D.value,buletin_idnp:P.value,localitate:S.value,street:W.value,house:z.value,flat:L.value,who_is_cont_pers1:M.value,dealer:Z.value,phone_cont_pers1:T.value,last_name_cont_pers1:A.value,first_name_cont_pers1:Q.value,type_credit_id:p.value.id,type_credit_name:p.value.name,calc_results:c.value,first_pay_date:f.value,months:h.value,imprumut:x.value,total_dobinda:c.value.tabelTotal.dobinda,total_comision:c.value.tabelTotal.comision,total_comision_admin:c.value.tabelTotal.comisionAdmin};_.value=!0,fe.api.post("/bids/add-or-edit/0",e).then((e=>{_.value=!1,e.data.success?($.value="Cererea a fost trimisă cu succes! În scurt timp (5-7min) clientul va primi un apel telefonic",oe(),l.commit("users/updateRefreshGridBidsCalculator",!0)):j.value=e.data.data.message})).catch((e=>{_.value=!1,(0,He.NU)({},e)}))}};return(0,a.m0)((()=>{n.value&&ee()})),(0,a.m0)((()=>{y.value=c.value&&c.value.tabel})),(0,a.bv)((()=>{fe.api.post("/type-credits-list",{}).then((e=>{(0,He.Zk)(),e.data.success&&fe.api.post("/products-list").then((l=>{l.data.success?(d.value=l.data.data.data,d.value.forEach(((l,t)=>{0===t&&(n.value=l.id,e.data.data.data.forEach((e=>{v.value.push(e),e.product_id===l.id&&(u.value=e.id)})))}))):(0,He.NU)({message:e.data.data.message})})).catch((e=>{(0,He.NU)({},e)}))})).catch((e=>{(0,He.Zk)(),(0,He.NU)({},e)})),s.value||fe.api.post("/dealers-list",{}).then((e=>{(0,He.Zk)(),e.data.success&&e.data.data.data.forEach(((e,l)=>{b.value.push(e),0===l&&(Z.value=e.id)}))})).catch((e=>{(0,He.Zk)(),(0,He.NU)({},e)}))})),{isExecutor:o,isAdmin:t,isDealer:s,authenticated:i,typeCredits:u,typeCreditsOptions:v,typeCreditsSelected:p,creditMonths:h,creditSum:x,creditDate:f,disableInputs:_,calendarOptions:te,calendarLocaleRoLocal:K,calculate:ae,calcError:r,calcResults:c,calcResultsExist:y,printPreContract:X,clearCalcResults:oe,clientFirstName:V,clientFirstNameHasError:E,clientLastName:q,clientLastNameHasError:C,clientPhone:k,clientPhoneHasError:B,clientBuletinSN:D,clientBuletinSNHasError:N,clientBuletinIDNP:P,clientBuletinIDNPHasError:U,clientBirthDate:F,clientBirthDateHasError:I,clientLocalitate:S,clientLocalitateHasError:R,clientStreet:W,clientHouse:z,clientFlat:L,dealer:Z,clientWhoIsContPers1:M,clientPhoneContPers1:T,clientLastNameContPers1:A,clientFirstNameContPers1:Q,clientCb:Y,clientCbHasError:O,addNewBid:se,bidError:j,bidSuccess:$,splitterModel:e,dealerOptions:b,productOptions:d,product:n,dealerChanged:J,creditMonthsOptions:m,creditMonthsChanged:le}}});var Ie=t(4379),Se=t(5607),Re=t(218),We=t(151),ze=t(4842),Le=t(4554),Me=t(3944),Ze=t(6915),Te=t(2165),Ae=t(8107),Qe=t(5735),Ye=t(677);const Oe=(0,qe.Z)(Fe,[["render",_e]]),je=Oe;Ne()(Fe,"components",{QPage:Ie.Z,QBanner:Se.Z,QSplitter:Re.Z,QSelect:Ce.Z,QCard:We.Z,QInput:ze.Z,QIcon:Le.Z,QPopupProxy:Me.Z,QDate:Ze.Z,QBtn:Te.Z,QTable:Ae.Z,QCheckbox:Qe.Z}),Ne()(Fe,"directives",{ClosePopup:Ye.Z})}}]);