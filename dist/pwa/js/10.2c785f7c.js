"use strict";(self["webpackChunkretail_creditbox_md"]=self["webpackChunkretail_creditbox_md"]||[]).push([[10],{1010:(e,l,a)=>{a.r(l),a.d(l,{default:()=>pa});a(71);var t=a(3673),o=a(2323),i=a(8880);const s={key:1,class:"row content-start"},n={class:"q-pa-md"},d={class:"row",style:{"max-width":"600px",margin:"auto"}},u=(0,t._)("div",{class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[(0,t._)("h6",{class:"q-pa-none q-ma-none text-primary"},"Calculator")],-1),c={key:0,class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},r=(0,t._)("span",{class:"text-primary"},"Dealer",-1),m={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},p=(0,t._)("span",{class:"text-primary"},"Tip credit",-1),v={key:1,class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},b={class:"bg-green-1 q-pa-sm text-grey-7 q-card--bordered rounded-borders text-caption"},g={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},_=(0,t._)("span",{class:"text-primary"},"Termenul creditului (luni)",-1),h={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},x={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},w=(0,t._)("span",{class:"text-primary"},"Suma creditului (MDL)",-1),f={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},y={class:"row",style:{"max-width":"800px",margin:"auto"}},H={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},C={key:1,class:"row"},q={class:"col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-3 q-pt-lg"},V=(0,t.Uk)(" DAE: "),E={key:0},k={class:"col-xl-10 col-lg-10 col-md-10 col-sm-9 col-xs-9 text-right q-py-md"},R={class:"q-table__container q-table--horizontal-separator column no-wrap q-table--dense q-table--no-wrap full-width"},D={class:"q-table"},B=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,[(0,t.Uk)("Număr"),(0,t._)("br"),(0,t.Uk)("rate")]),(0,t._)("th",null,"Data plății"),(0,t._)("th",{class:"text-right"},[(0,t.Uk)("Rambursări"),(0,t._)("br"),(0,t.Uk)("suma de bază")]),(0,t._)("th",{class:"text-right"},"Dobânda"),(0,t._)("th",{class:"text-right"},[(0,t.Uk)("Comision de"),(0,t._)("br"),(0,t.Uk)("examinare")]),(0,t._)("th",{class:"text-right"},[(0,t.Uk)("Comision de"),(0,t._)("br"),(0,t.Uk)("administrare")]),(0,t._)("th",{class:"text-right"},[(0,t.Uk)("Total de"),(0,t._)("br"),(0,t.Uk)("plată")])])],-1),I=(0,t._)("td",null,null,-1),U={class:"text-center"},W=(0,t._)("td",null,null,-1),N=(0,t._)("td",null,null,-1),S=(0,t._)("td",{class:"text-right"},"0",-1),P=(0,t._)("td",null,null,-1),F=(0,t._)("td",{class:"text-right"},"0",-1),L={class:"text-center"},Z={class:"text-center"},M={class:"text-right"},z={class:"text-right"},T={class:"text-right"},Q={class:"text-right"},A={class:"text-right"},O=(0,t._)("td",{class:"text-right",colspan:"2"},"Total",-1),$={class:"text-right"},j={class:"text-right"},Y={class:"text-right"},K={class:"text-right"},G={class:"text-right"},X={class:"col-12 row q-pb-xl q-mb-xl"},J=(0,t._)("div",{class:"col-12"},[(0,t._)("h6",{class:"q-pa-none q-ma-none text-primary"},"Adaugă o cerere nouă")],-1),ee={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},le=(0,t._)("span",{class:"text-grey"},"S/N:",-1),ae=(0,t._)("span",{class:"text-grey"},"IDNP:",-1),te={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},oe=(0,t._)("span",{class:"text-grey"},"S/N:",-1),ie=(0,t._)("span",{class:"text-grey"},"IDNP:",-1),se={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ne={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},de={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ue={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ce={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},re={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},me={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},pe=(0,t._)("div",{class:"col-12 text-primary"},"Adresa de reședință (buletin)",-1),ve={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},be={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ge={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},_e={class:"col-xl-2 col-lg-2 col-md-2 col-sm-6 col-xs-12 q-pa-xs"},he={class:"col-xl-1 col-lg-1 col-md-1 col-sm-6 col-xs-12 q-pa-xs"},xe={class:"col-12 text-primary"},we=(0,t.Uk)("Adresa domiciliu "),fe={key:0,class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ye={key:1,class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},He={key:2,class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},Ce={key:3,class:"col-xl-2 col-lg-2 col-md-2 col-sm-6 col-xs-12 q-pa-xs"},qe={key:4,class:"col-xl-1 col-lg-1 col-md-1 col-sm-6 col-xs-12 q-pa-xs"},Ve=(0,t._)("div",{class:"col-12 text-primary"},"Persoana de contact 1",-1),Ee={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ke={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},Re={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},De={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},Be=(0,t._)("div",{class:"col-12 text-primary"},"Persoana de contact 2",-1),Ie={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},Ue={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},We={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},Ne={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},Se=(0,t._)("div",{class:"col-12 text-primary"},"Produsul sau serviciul comercializat",-1),Pe={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},Fe={class:"col-5"},Le={class:"col-7 q-pt-md"},Ze={class:"col-5"},Me={class:"col-7 q-pt-md"},ze={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs text-caption"},Te=(0,t.Uk)(' "Accept" confirm că eu: am citit și am acceptat '),Qe=(0,t.Uk)(", am dat consimțământul pentru folosirea datelor personale, am evaluat oferta CreditBox "),Ae={class:"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-xs-12 q-pa-xs text-right"},Oe={class:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-xs-12 q-pa-xs text-right"};function $e(e,l,a,$e,je,Ye){const Ke=(0,t.up)("q-banner"),Ge=(0,t.up)("q-select"),Xe=(0,t.up)("q-input"),Je=(0,t.up)("q-btn"),el=(0,t.up)("q-item-section"),ll=(0,t.up)("q-item"),al=(0,t.up)("q-list"),tl=(0,t.up)("q-menu"),ol=(0,t.up)("autocomplete-field"),il=(0,t.up)("q-checkbox"),sl=(0,t.up)("file-upload"),nl=(0,t.up)("termeni-conditii"),dl=(0,t.up)("q-icon"),ul=(0,t.up)("calculator-right-panel"),cl=(0,t.up)("q-splitter"),rl=(0,t.up)("q-page"),ml=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(rl,null,{default:(0,t.w5)((()=>[e.authenticated?((0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(cl,{class:"full-width",modelValue:e.splitterModel,"onUpdate:modelValue":l[73]||(l[73]=l=>e.splitterModel=l),unit:"px",reverse:"","separator-class":"bg-indigo-3","separator-style":"width: 2px"},{before:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t._)("div",d,[u,e.isDealer?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(Ge,{outlined:"",color:"primary",modelValue:e.dealer,"onUpdate:modelValue":l[0]||(l[0]=l=>e.dealer=l),options:e.dealerOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",label:"Dealer"},{label:(0,t.w5)((()=>[r])),_:1},8,["modelValue","options"])])),(0,t._)("div",m,[(0,t.Wm)(Ge,{outlined:"",color:"primary",disable:e.disableInputs,modelValue:e.product,"onUpdate:modelValue":l[1]||(l[1]=l=>e.product=l),options:e.productOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",label:"Tip credit"},{label:(0,t.w5)((()=>[p])),_:1},8,["disable","modelValue","options"])]),e.typeCreditsSelected&&e.typeCreditsSelected.id?((0,t.wg)(),(0,t.iD)("div",v,[(0,t._)("div",b,(0,o.zw)(e.typeCreditsSelected.name)+" "+(0,o.zw)(e.typeCreditsSelected.description_mini),1)])):(0,t.kq)("",!0),(0,t._)("div",g,[(0,t.Wm)(Ge,{outlined:"",color:"primary",disable:e.disableInputs,modelValue:e.creditMonths,"onUpdate:modelValue":[l[2]||(l[2]=l=>e.creditMonths=l),e.creditMonthsChanged],options:e.creditMonthsOptions,label:"Termenul creditului (luni)"},{label:(0,t.w5)((()=>[_])),_:1},8,["disable","modelValue","options","onUpdate:modelValue"])]),(0,t._)("div",h,[(0,t.Wm)(Xe,{outlined:"",readonly:"",disable:e.disableInputs,modelValue:e.creditDate,"onUpdate:modelValue":l[3]||(l[3]=l=>e.creditDate=l),label:"Data cererii",mask:"##.##.####"},null,8,["disable","modelValue"])]),(0,t._)("div",x,[(0,t.Wm)(Xe,{outlined:"",disable:e.disableInputs,type:"number",label:"Suma creditului (MDL)",modelValue:e.creditSum,"onUpdate:modelValue":l[4]||(l[4]=l=>e.creditSum=l)},{label:(0,t.w5)((()=>[w])),_:1},8,["disable","modelValue"])]),(0,t._)("div",f,[(0,t.Wm)(Je,{size:"lg",onClick:l[5]||(l[5]=l=>e.calculate()),class:"full-height full-width",label:"Calculează",color:"primary"})])]),(0,t._)("div",y,[(0,t._)("div",H,[e.calcError?((0,t.wg)(),(0,t.j4)(Ke,{key:0,class:"bg-red-2 rounded-borders"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.calcError),1)])),_:1})):e.calcResultsExist?((0,t.wg)(),(0,t.iD)("div",C,[(0,t._)("div",q,[V,e.calcResults?((0,t.wg)(),(0,t.iD)("span",E,(0,o.zw)(e.calcResults.DAE)+"%",1)):(0,t.kq)("",!0)]),(0,t._)("div",k,[(0,t.Wm)(Je,{size:"md",onClick:l[6]||(l[6]=l=>e.clearCalcResults()),icon:"clear",label:"Anulează"})]),(0,t._)("div",R,[(0,t._)("table",D,[B,(0,t._)("tbody",null,[(0,t._)("tr",null,[I,(0,t._)("td",U,(0,o.zw)(e.creditDate),1),W,N,S,P,F]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.calcResults.tabel,((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{key:`res-${l}`},[(0,t._)("td",L,(0,o.zw)(l),1),(0,t._)("td",Z,(0,o.zw)(e.data),1),(0,t._)("td",M,(0,o.zw)(e.imprumtPerLuna),1),(0,t._)("td",z,(0,o.zw)(e.dobindaPerLuna),1),(0,t._)("td",T,(0,o.zw)(e.comisionPerLuna),1),(0,t._)("td",Q,(0,o.zw)(e.comisionAdminPerLuna),1),(0,t._)("td",A,(0,o.zw)(e.totalPerLuna),1)])))),128)),(0,t._)("tr",null,[O,(0,t._)("td",$,(0,o.zw)(e.calcResults.tabelTotal.imprumut),1),(0,t._)("td",j,(0,o.zw)(e.calcResults.tabelTotal.dobinda),1),(0,t._)("td",Y,(0,o.zw)(e.calcResults.tabelTotal.comision),1),(0,t._)("td",K,(0,o.zw)(e.calcResults.tabelTotal.comisionAdmin),1),(0,t._)("td",G,(0,o.zw)(e.calcResults.tabelTotal.total),1)])])])])])):(0,t.kq)("",!0)])]),(0,t.wy)((0,t._)("div",X,[J,(0,t._)("div",ee,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinSNHasError,onBlur:l[8]||(l[8]=l=>e.clientBuletinSNHasError=!1),onFocus:l[9]||(l[9]=l=>e.clientBuletinSNHasError=!1),type:"text",rules:[e=>e&&9===e.length||"9 caractere"],label:"Buletin S/N",onKeyup:l[10]||(l[10]=l=>e.findClientBy("buletin_sn")),modelValue:e.clientBuletinSN,"onUpdate:modelValue":l[11]||(l[11]=l=>e.clientBuletinSN=l)},{default:(0,t.w5)((()=>[e.showBuletinSNDropdown?((0,t.wg)(),(0,t.j4)(tl,{key:0,modelValue:e.showBuletinSNDropdown,"onUpdate:modelValue":l[7]||(l[7]=l=>e.showBuletinSNDropdown=l),class:"bg-teal-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.foundedClients,((l,a)=>((0,t.wg)(),(0,t.j4)(al,{key:`fd${a}`,style:{"min-width":"250px"}},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(ll,{clickable:"",onClick:a=>e.selectFoundedClient(l)},{default:(0,t.w5)((()=>[(0,t.Wm)(el,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,(0,o.zw)(l.last_name)+" "+(0,o.zw)(l.first_name),1),(0,t._)("div",null,[le,(0,t.Uk)(" "+(0,o.zw)(l.buletin_sn),1)]),(0,t._)("div",null,[ae,(0,t.Uk)(" "+(0,o.zw)(l.buletin_idnp),1)])])),_:2},1024)])),_:2},1032,["onClick"])),[[ml]])])),_:2},1024)))),128))])),_:1},8,["modelValue"])):(0,t.kq)("",!0)])),_:1},8,["disable","error","rules","modelValue"])]),(0,t._)("div",te,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinIDNPHasError,onBlur:l[13]||(l[13]=l=>e.clientBuletinIDNPHasError=!1),onFocus:l[14]||(l[14]=l=>e.clientBuletinIDNPHasError=!1),type:"text",rules:[e=>13===e.length||"13 cifre"],label:"Buletin IDNP",onKeyup:l[15]||(l[15]=l=>e.findClientBy("buletin_idnp")),modelValue:e.clientBuletinIDNP,"onUpdate:modelValue":l[16]||(l[16]=l=>e.clientBuletinIDNP=l)},{default:(0,t.w5)((()=>[e.showBuletinIDNPDropdown?((0,t.wg)(),(0,t.j4)(tl,{key:0,modelValue:e.showBuletinIDNPDropdown,"onUpdate:modelValue":l[12]||(l[12]=l=>e.showBuletinIDNPDropdown=l),class:"bg-teal-1"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.foundedClients,((l,a)=>((0,t.wg)(),(0,t.j4)(al,{key:`fdIDNP${a}`,style:{"min-width":"250px"}},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(ll,{clickable:"",onClick:a=>e.selectFoundedClient(l)},{default:(0,t.w5)((()=>[(0,t.Wm)(el,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,(0,o.zw)(l.last_name)+" "+(0,o.zw)(l.first_name),1),(0,t._)("div",null,[oe,(0,t.Uk)(" "+(0,o.zw)(l.buletin_sn),1)]),(0,t._)("div",null,[ie,(0,t.Uk)(" "+(0,o.zw)(l.buletin_idnp),1)])])),_:2},1024)])),_:2},1032,["onClick"])),[[ml]])])),_:2},1024)))),128))])),_:1},8,["modelValue"])):(0,t.kq)("",!0)])),_:1},8,["disable","error","rules","modelValue"])]),(0,t._)("div",se,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinOfficeHasError,onBlur:l[17]||(l[17]=l=>e.clientBuletinOfficeHasError=!1),onFocus:l[18]||(l[18]=l=>e.clientBuletinOfficeHasError=!1),type:"text",label:"Buletin eliberat de",what:"buletin_office",modelValue:e.clientBuletinOffice,"onUpdate:modelValue":l[19]||(l[19]=l=>e.clientBuletinOffice=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",ne,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinDateTillHasError,onBlur:l[20]||(l[20]=l=>e.clientBuletinDateTillHasError=!1),onFocus:l[21]||(l[21]=l=>e.clientBuletinDateTillHasError=!1),type:"text",mask:"##.##.####",label:"Data eliberării",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientBuletinDateTill,"onUpdate:modelValue":l[22]||(l[22]=l=>e.clientBuletinDateTill=l)},null,8,["disable","error","autocomplete","modelValue"])]),(0,t._)("div",de,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientFirstNameHasError,onBlur:l[23]||(l[23]=l=>e.clientFirstNameHasError=!1),onFocus:l[24]||(l[24]=l=>e.clientFirstNameHasError=!1),type:"text",label:"Nume client",what:"first_name",modelValue:e.clientFirstName,"onUpdate:modelValue":l[25]||(l[25]=l=>e.clientFirstName=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",ue,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLastNameHasError,onBlur:l[26]||(l[26]=l=>e.clientLastNameHasError=!1),onFocus:l[27]||(l[27]=l=>e.clientLastNameHasError=!1),type:"text",label:"Prenume client",what:"last_name",modelValue:e.clientLastName,"onUpdate:modelValue":l[28]||(l[28]=l=>e.clientLastName=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",ce,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientPhoneHasError,onBlur:l[29]||(l[29]=l=>e.clientPhoneHasError=!1),onFocus:l[30]||(l[30]=l=>e.clientPhoneHasError=!1),type:"text",label:"Telefon",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientPhone,"onUpdate:modelValue":l[31]||(l[31]=l=>e.clientPhone=l)},null,8,["disable","error","autocomplete","modelValue"])]),(0,t._)("div",re,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientEmailHasError,onBlur:l[32]||(l[32]=l=>e.clientEmailHasError=!1),onFocus:l[33]||(l[33]=l=>e.clientEmailHasError=!1),type:"email",label:"Email",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientEmail,"onUpdate:modelValue":l[34]||(l[34]=l=>e.clientEmail=l)},null,8,["disable","error","autocomplete","modelValue"])]),(0,t._)("div",me,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBirthDateHasError,onBlur:l[35]||(l[35]=l=>e.clientBirthDateHasError=!1),onFocus:l[36]||(l[36]=l=>e.clientBirthDateHasError=!1),type:"text",mask:"##.##.####",label:"Data de naștere",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientBirthDate,"onUpdate:modelValue":l[37]||(l[37]=l=>e.clientBirthDate=l)},null,8,["disable","error","autocomplete","modelValue"])]),pe,(0,t._)("div",ve,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientRegionRegHasError,onBlur:l[38]||(l[38]=l=>e.clientRegionRegHasError=!1),onFocus:l[39]||(l[39]=l=>e.clientRegionRegHasError=!1),type:"text",label:"Raion",what:"region",modelValue:e.clientRegionReg,"onUpdate:modelValue":l[40]||(l[40]=l=>e.clientRegionReg=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",be,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLocalitateRegHasError,onBlur:l[41]||(l[41]=l=>e.clientLocalitateRegHasError=!1),onFocus:l[42]||(l[42]=l=>e.clientLocalitateRegHasError=!1),type:"text",label:"Localitate",what:"localitate",modelValue:e.clientLocalitateReg,"onUpdate:modelValue":l[43]||(l[43]=l=>e.clientLocalitateReg=l)},null,8,["disable","error","modelValue"])]),(0,t._)("div",ge,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Strada",what:"street",modelValue:e.clientStreetReg,"onUpdate:modelValue":l[44]||(l[44]=l=>e.clientStreetReg=l)},null,8,["disable","modelValue"])]),(0,t._)("div",_e,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Bloc",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientHouseReg,"onUpdate:modelValue":l[45]||(l[45]=l=>e.clientHouseReg=l)},null,8,["disable","autocomplete","modelValue"])]),(0,t._)("div",he,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Apartament",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientFlatReg,"onUpdate:modelValue":l[46]||(l[46]=l=>e.clientFlatReg=l)},null,8,["disable","autocomplete","modelValue"])]),(0,t._)("div",xe,[we,(0,t.Wm)(il,{modelValue:e.clientSameAddresses,"onUpdate:modelValue":l[47]||(l[47]=l=>e.clientSameAddresses=l),label:"Adresa domiciliului coincide cu cea de reședință"},null,8,["modelValue"])]),e.clientSameAddresses?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",fe,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientRegionHasError,onBlur:l[48]||(l[48]=l=>e.clientRegionHasError=!1),onFocus:l[49]||(l[49]=l=>e.clientRegionHasError=!1),type:"text",label:"Raion",what:"region",modelValue:e.clientRegion,"onUpdate:modelValue":l[50]||(l[50]=l=>e.clientRegion=l)},null,8,["disable","error","modelValue"])])),e.clientSameAddresses?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ye,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLocalitateHasError,onBlur:l[51]||(l[51]=l=>e.clientLocalitateHasError=!1),onFocus:l[52]||(l[52]=l=>e.clientLocalitateHasError=!1),type:"text",label:"Localitate",what:"localitate",modelValue:e.clientLocalitate,"onUpdate:modelValue":l[53]||(l[53]=l=>e.clientLocalitate=l)},null,8,["disable","error","modelValue"])])),e.clientSameAddresses?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",He,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Strada",what:"street",modelValue:e.clientStreet,"onUpdate:modelValue":l[54]||(l[54]=l=>e.clientStreet=l)},null,8,["disable","modelValue"])])),e.clientSameAddresses?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Ce,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Bloc",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientHouse,"onUpdate:modelValue":l[55]||(l[55]=l=>e.clientHouse=l)},null,8,["disable","autocomplete","modelValue"])])),e.clientSameAddresses?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",qe,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Apartament",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientFlat,"onUpdate:modelValue":l[56]||(l[56]=l=>e.clientFlat=l)},null,8,["disable","autocomplete","modelValue"])])),Ve,(0,t._)("div",Ee,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Nume",what:"first_name",modelValue:e.clientFirstNameContPers1,"onUpdate:modelValue":l[57]||(l[57]=l=>e.clientFirstNameContPers1=l)},null,8,["disable","modelValue"])]),(0,t._)("div",ke,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Prenume",what:"last_name",modelValue:e.clientLastNameContPers1,"onUpdate:modelValue":l[58]||(l[58]=l=>e.clientLastNameContPers1=l)},null,8,["disable","modelValue"])]),(0,t._)("div",Re,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Telefon",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientPhoneContPers1,"onUpdate:modelValue":l[59]||(l[59]=l=>e.clientPhoneContPers1=l)},null,8,["disable","autocomplete","modelValue"])]),(0,t._)("div",De,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Cine este",what:"who_is_cont_pers",modelValue:e.clientWhoIsContPers1,"onUpdate:modelValue":l[60]||(l[60]=l=>e.clientWhoIsContPers1=l)},null,8,["disable","modelValue"])]),Be,(0,t._)("div",Ie,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Nume",what:"first_name",modelValue:e.clientFirstNameContPers2,"onUpdate:modelValue":l[61]||(l[61]=l=>e.clientFirstNameContPers2=l)},null,8,["disable","modelValue"])]),(0,t._)("div",Ue,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Prenume",what:"last_name",modelValue:e.clientLastNameContPers2,"onUpdate:modelValue":l[62]||(l[62]=l=>e.clientLastNameContPers2=l)},null,8,["disable","modelValue"])]),(0,t._)("div",We,[(0,t.Wm)(Xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Telefon",autocomplete:`off-autocomplete-${e.uniqId}`,modelValue:e.clientPhoneContPers2,"onUpdate:modelValue":l[63]||(l[63]=l=>e.clientPhoneContPers2=l)},null,8,["disable","autocomplete","modelValue"])]),(0,t._)("div",Ne,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Cine este",what:"who_is_cont_pers",modelValue:e.clientWhoIsContPers2,"onUpdate:modelValue":l[64]||(l[64]=l=>e.clientWhoIsContPers2=l)},null,8,["disable","modelValue"])]),Se,(0,t._)("div",Pe,[(0,t.Wm)(ol,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"",what:"client_produs",modelValue:e.clientProdus,"onUpdate:modelValue":l[65]||(l[65]=l=>e.clientProdus=l)},null,8,["disable","modelValue"])]),(0,t._)("div",Fe,[(0,t.Wm)(sl,{module:"bid_id",typeId:`${e.fileTypeBuletin1}`,onOnUploaded:e.onFileUploaded,id:0},{button:(0,t.w5)((()=>[(0,t.Wm)(Je,{size:"md",icon:"attach_file",label:"Adaugă copia actului de identitate 1",class:"q-ma-md"})])),_:1},8,["typeId","onOnUploaded"])]),(0,t._)("div",Le,(0,o.zw)(e.fileUploadedResponses[String(e.fileTypeBuletin1)].name?e.fileUploadedResponses[String(e.fileTypeBuletin1)].name:""),1),(0,t._)("div",Ze,[(0,t.Wm)(sl,{module:"bid_id",typeId:`${e.fileTypeBuletin2}`,onOnUploaded:e.onFileUploaded,id:0},{button:(0,t.w5)((()=>[(0,t.Wm)(Je,{size:"md",icon:"attach_file",label:"Adaugă copia actului de identitate 2",class:"q-ma-md"})])),_:1},8,["typeId","onOnUploaded"])]),(0,t._)("div",Me,(0,o.zw)(e.fileUploadedResponses[String(e.fileTypeBuletin2)].name?e.fileUploadedResponses[String(e.fileTypeBuletin2)].name:""),1),(0,t._)("div",ze,[(0,t.Wm)(il,{size:"sm",disable:!e.calcResultsExist||e.disableInputs,"keep-color":"",color:e.clientCbHasError?"red":"primary",onBlur:l[66]||(l[66]=l=>e.clientCbHasError=!1),onFocus:l[67]||(l[67]=l=>e.clientCbHasError=!1),modelValue:e.clientCb,"onUpdate:modelValue":l[68]||(l[68]=l=>e.clientCb=l)},null,8,["disable","color","modelValue"]),(0,t._)("span",{class:(0,o.C_)(e.clientCbHasError?"text-red":"text-gray-6")},[Te,(0,t._)("span",{class:"text-blue",onClick:l[69]||(l[69]=(...l)=>e.openTermeniConditii&&e.openTermeniConditii(...l)),style:{"text-decoration":"underline",cursor:"pointer"}}," Termeni și condiții "),Qe,(0,t.Wm)(nl)],2)]),(0,t._)("div",Ae,[e.bidSuccess?((0,t.wg)(),(0,t.j4)(Ke,{key:0,class:"bg-positive rounded-borders text-white text-left","inline-actions":""},{action:(0,t.w5)((()=>[(0,t.Wm)(Je,{flat:"",color:"white",onClick:l[70]||(l[70]=l=>e.bidSuccess=""),round:"",icon:"close"})])),default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.bidSuccess)+" ",1)])),_:1})):(0,t.kq)("",!0),e.bidError?((0,t.wg)(),(0,t.j4)(Ke,{key:1,class:"bg-negative rounded-borders text-white text-left","inline-actions":""},{action:(0,t.w5)((()=>[(0,t.Wm)(Je,{flat:"",color:"white",onClick:l[71]||(l[71]=l=>e.bidSuccess=""),round:"",icon:"close"})])),default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.bidError)+" ",1)])),_:1})):(0,t.kq)("",!0)]),(0,t._)("div",Oe,[(0,t.Wm)(Je,{color:"primary",size:"md",disable:!e.calcResultsExist||e.disableInputs,onClick:l[72]||(l[72]=l=>e.addNewBid()),label:"Trimite"},null,8,["disable"])])],512),[[i.F8,e.calcResultsExist&&e.isDealer]])])])),separator:(0,t.w5)((()=>[(0,t.Wm)(dl,{color:"indigo-4",size:"25px",name:"more_vert"})])),after:(0,t.w5)((()=>[(0,t.Wm)(ul)])),_:1},8,["modelValue"])])):((0,t.wg)(),(0,t.j4)(Ke,{key:0}))])),_:1})}a(6245);var je=a(1959),Ye=a(5474),Ke=a(3413),Ge=a(3617);function Xe(e,l,a,o,i,s){const n=(0,t.up)("q-badge"),d=(0,t.up)("q-tab"),u=(0,t.up)("q-tabs"),c=(0,t.up)("bids-list-for-calculator"),r=(0,t.up)("q-tab-panel"),m=(0,t.up)("chat-full"),p=(0,t.up)("q-tab-panels");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(u,{modelValue:o.tab,"onUpdate:modelValue":l[0]||(l[0]=e=>o.tab=e),"narrow-indicator":"",dense:"",align:"justify",class:"text-primary"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.tabs,((e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[e.hidden?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(d,{key:`tab-${l}`,ripple:!1,onClick:l=>o.setModel(e.name),name:e.name,icon:e.icon,label:e.label},{default:(0,t.w5)((()=>["ChatFull"===e.name&&o.getCountNewMessages?((0,t.wg)(),(0,t.j4)(n,{key:0,floating:"",color:"negative",label:o.getCountNewMessages},null,8,["label"])):(0,t.kq)("",!0)])),_:2},1032,["onClick","name","icon","label"]))],64)))),256))])),_:1},8,["modelValue"]),(0,t.Wm)(p,{modelValue:o.tab,"onUpdate:modelValue":l[1]||(l[1]=e=>o.tab=e),animated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{name:"Bids",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1}),(0,t.Wm)(r,{name:"Contracts",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1}),(0,t.Wm)(r,{name:"ChatFull",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(m)])),_:1})])),_:1},8,["modelValue"])])}var Je=a(539);const el={class:"row"},ll={key:0},al={class:"text-grey"},tl={key:1},ol={key:1,class:"full-width"},il={key:0},sl={class:"text-grey"},nl={key:1};function dl(e,l,a,i,s,n){const d=(0,t.up)("q-img"),u=(0,t.up)("q-icon"),c=(0,t.up)("q-avatar"),r=(0,t.up)("q-item-section"),m=(0,t.up)("q-item-label"),p=(0,t.up)("q-badge"),v=(0,t.up)("q-item"),b=(0,t.up)("q-list"),g=(0,t.up)("chat"),_=(0,t.Q2)("ripple");return(0,t.wg)(),(0,t.iD)("div",el,[i.openedChat?((0,t.wg)(),(0,t.iD)("div",ol,[(0,t.Wm)(b,{class:"full-width",bordered:"",separator:""},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(v,{clickable:"",onClick:l[0]||(l[0]=e=>i.openChat(null))},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{name:"arrow_back_ios"})])),_:1}),(0,t.Wm)(r,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"cursor-pointer",style:{border:"1px solid #dddddd"}},{default:(0,t.w5)((()=>[void 0!==i.openedChat.role_id?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[i.getAvatar(i.openedChat.avatar)?((0,t.wg)(),(0,t.j4)(d,{key:0,src:i.getAvatar(i.openedChat.avatar),alt:""},null,8,["src"])):((0,t.wg)(),(0,t.iD)("div",{key:1,style:(0,o.j5)(`color: ${i.getColorForLogo(i.openedChat.name)}`)},(0,o.zw)(i.getInitialsForLogo(i.openedChat.name)),5))],64)):((0,t.wg)(),(0,t.j4)(u,{key:1,name:"gavel"}))])),_:1})])),_:1}),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[void 0!==i.openedChat.role_id?((0,t.wg)(),(0,t.iD)("span",il,[(0,t.Uk)((0,o.zw)(i.openedChat.name)+" ",1),(0,t._)("span",sl,(0,o.zw)(i.getRoleName(i.openedChat)),1)])):((0,t.wg)(),(0,t.iD)("span",nl,"Cerere №"+(0,o.zw)(i.openedChat.id),1))])),_:1})])),_:1})])),_:1})),[[_]])])),_:1}),(0,t.Wm)(g,{bid_id:i.openedChatBidId,user_id:i.openedChatUserId},null,8,["bid_id","user_id"])])):((0,t.wg)(),(0,t.j4)(b,{key:0,class:"full-width",bordered:"",separator:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.chatsList,((e,l)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(v,{key:`chatListIndex${l}`,clickable:"",onClick:l=>i.openChat(e)},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"cursor-pointer",style:{border:"1px solid #dddddd"}},{default:(0,t.w5)((()=>[void 0!==e.role_id?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[i.getAvatar(e.avatar)?((0,t.wg)(),(0,t.j4)(d,{key:0,src:i.getAvatar(e.avatar),alt:""},null,8,["src"])):((0,t.wg)(),(0,t.iD)("div",{key:1,style:(0,o.j5)(`color: ${i.getColorForLogo(e.name)}`)},(0,o.zw)(i.getInitialsForLogo(e.name)),5))],64)):((0,t.wg)(),(0,t.j4)(u,{key:1,name:"gavel"}))])),_:2},1024)])),_:2},1024),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[void 0!==e.role_id?((0,t.wg)(),(0,t.iD)("span",ll,[(0,t.Uk)((0,o.zw)(e.name)+" ",1),(0,t._)("span",al,(0,o.zw)(i.getRoleName(e)),1)])):((0,t.wg)(),(0,t.iD)("span",tl,"Cerere №"+(0,o.zw)(e.id),1))])),_:2},1024),e.lastMessage&&e.lastMessage.message?((0,t.wg)(),(0,t.j4)(m,{key:0,caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.lastMessage.message.substr(0,100))+"... ",1)])),_:2},1024)):(0,t.kq)("",!0)])),_:2},1024),e.newMessages?((0,t.wg)(),(0,t.j4)(r,{key:0,side:"",class:"text-red"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{color:"negative","text-color":"white",label:e.newMessages},null,8,["label"])])),_:2},1024)):(0,t.kq)("",!0)])),_:2},1032,["onClick"])),[[_]]))),128))])),_:1}))])}a(5363);var ul=a(27),cl=a(3051);const rl={name:"ChatFull",components:{Chat:cl.Z},setup(){const e=(0,Ge.oR)(),l=(0,je.iH)(null),a=(0,je.iH)(null),o=(0,je.iH)(null),i=(0,je.iH)(null),s=e=>{if(e){const l=(0,Ke.LO)(e),a=String(Ye.api.defaults.baseURL);return`${a.replace("/api","")}/${l}`}return""};(0,t.m0)((()=>{o.value=null,i.value=null,a.value&&void 0!==a.value.role_id?i.value=a.value.id:a.value&&void 0!==a.value.status_id&&(o.value=a.value.id)}));const n=e=>(0,Ke.Qm)(e),d=e=>(0,Ke.Zx)(e),u=e=>e.role_id?e&&ul.Z.USER_ROLES[parseInt(e.role_id,10)]?ul.Z.USER_ROLES[parseInt(e.role_id,10)]:ul.Z.USER_ROLES[1]:"",c=e=>{a.value=e},r=()=>{Ye.api.post("/chat-get-full-list").then((e=>{e.data.success&&(l.value=e.data.data,l.value.sort(((e,l)=>e.sortDate>l.sortDate?-1:l.sortDate>e.sortDate?1:0)))}))};return r(),(0,t.m0)((()=>{const a=e.getters["auth/getCheckNewMessages"];l.value&&l.value.forEach(((e,a)=>{l.value[a].newMessages=0})),e.commit("auth/updateCountNewMessages",a&&a.unreadMessages?a.unreadMessages.length:0),a&&a.unreadMessages&&a.unreadMessages.forEach((e=>{e.bid_id&&l.value&&l.value.forEach(((a,t)=>{void 0!==a.status_id&&a.id===e.bid_id&&(void 0===l.value[t].newMessages&&(l.value[t].newMessages=0),l.value[t].newMessages+=1)})),e.from_user_id&&l.value&&l.value.forEach(((a,t)=>{void 0===a.status_id&&a.id===e.from_user_id&&(void 0===l.value[t].newMessages&&(l.value[t].newMessages=0),l.value[t].newMessages+=1)}))}))})),{chatsList:l,openedChat:a,openChat:c,openedChatBidId:o,openedChatUserId:i,loadChats:r,getAvatar:s,getColorForLogo:d,getInitialsForLogo:n,getRoleName:u}}};var ml=a(4260),pl=a(7011),vl=a(3414),bl=a(2035),gl=a(5096),_l=a(4027),hl=a(4554),xl=a(2350),wl=a(9721),fl=a(6489),yl=a(7518),Hl=a.n(yl);const Cl=(0,ml.Z)(rl,[["render",dl]]),ql=Cl;Hl()(rl,"components",{QList:pl.Z,QItem:vl.Z,QItemSection:bl.Z,QAvatar:gl.Z,QImg:_l.Z,QIcon:hl.Z,QItemLabel:xl.Z,QBadge:wl.Z}),Hl()(rl,"directives",{Ripple:fl.Z});const Vl={name:"CalculatorRightPanel",components:{ChatFull:ql,BidsListForCalculator:Je.Z},setup(){const e=(0,Ge.oR)(),l=(0,je.iH)("Bids"),a=(0,je.iH)(0),o=(0,je.iH)([{name:"Bids",label:"Cereri",icon:"",hidden:!1},{name:"Contracts",label:"Contracte",icon:"",hidden:!1},{name:"ChatFull",label:"Chat",icon:"",hidden:!1}]),i=a=>{e.commit("auth/updateActiveModule",a),l.value=a};return(0,t.m0)((()=>{a.value=e.getters["auth/getCountNewMessages"]})),i("Bids"),{tab:l,tabs:o,setModel:i,getCountNewMessages:a}}};var El=a(7547),kl=a(3269),Rl=a(5906),Dl=a(6602);const Bl=(0,ml.Z)(Vl,[["render",Xe]]),Il=Bl;function Ul(e,l,a,o,i,s){const n=(0,t.up)("q-select");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(n,{filled:a.filled,dense:a.dense,outlined:a.outlined,"model-value":i.model,readonly:a.readonly,disable:a.disable,error:a.error,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:i.options,onFilter:s.filterFn,onFilterAbort:s.abortFilterFn,onInputValue:s.setModel,onBlur:s.onBlur,onFocus:s.onFocus,"hide-dropdown-icon":!0,behavior:"menu",loading:i.loading,hint:a.hint,label:a.label,autocomplete:`off-autocomplete-${i.uniqId}`},null,8,["filled","dense","outlined","model-value","readonly","disable","error","options","onFilter","onFilterAbort","onInputValue","onBlur","onFocus","loading","hint","label","autocomplete"])])}Hl()(Vl,"components",{QTabs:El.Z,QTab:kl.Z,QBadge:wl.Z,QTabPanels:Rl.Z,QTabPanel:Dl.Z});const Wl={name:"AutocompleteField",props:{modelValue:{type:String,default:null,required:!1},outlined:{type:Boolean,default:!1},filled:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},label:{type:String,default:""},value:{type:String,default:""},hint:{type:String,default:""},what:{type:String,default:""},forceValue:{type:String,default:""}},data(){return{model:null,options:[],loading:!1,uniqId:`id${Math.random().toString(16).slice(2)}`}},emits:["blur","input","focus","update:modelValue"],methods:{filterFn(e,l){l((()=>{this.model&&this.model.length>1&&(this.loading=!0,Ye.api.post("/autocomplete",{search:this.what?this.what:this.label,q:this.model}).then((e=>{this.loading=!1;const a=[];e.data.data.data&&e.data.data.data.forEach((e=>{-1===a.indexOf(e)&&a.push(e.text)})),this.options=a,l()})).catch((()=>{this.loading=!1})))}))},abortFilterFn(){},setModel(e){this.model=e},onBlur(e){this.$emit("blur",e)},onFocus(e){this.$emit("focus",e)}},watch:{model(e){this.$emit("update:modelValue",e),this.$emit("input",e)},value(e){this.setModel(e)},modelValue(e){this.setModel(e)}},mounted(){this.forceValue&&this.setModel(this.forceValue)}};var Nl=a(8516);const Sl=(0,ml.Z)(Wl,[["render",Ul]]),Pl=Sl;Hl()(Wl,"components",{QSelect:Nl.Z});var Fl=a(8886);const Ll=(0,t._)("span",{class:"text-subtitle1"},[(0,t._)("span",{class:"text-blue-grey"},"Termeni si Conditii")],-1),Zl=(0,t._)("div",{class:"row"},[(0,t._)("div",{class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},[(0,t._)("div",null," Prin bifarea acestei opțiuni, declar pe propria răspundere căci am fost adus la cunoștință că datele mele cu caracter personal colectate de către OCN „CREDIT BOX” SRL vor fi procesate și prelucrate, cu respectarea regimului de securitate și confidențialitate, în conformitate cu prevederile Legii nr. 133 din 8 iulie 2011 privind protecția datelor cu caracter personal, informația nefiind folosită în alte scopuri incompatibile sau remisă fără temei altor companii, urmând a fi păstrată doar pentru o perioadă de 3 ani, urmând ulterior a fi distrusă sau transformată în date anonime. Sunt conștient căci în conformitate cu art. 13-16 ale Legii nr. 133 din 8 iulie 2011 privind protecția datelor cu caracter personal am dreptul de acces, de intervenție, de opoziție, precum și de adresare în instanța de judecată,în contextul prelucrărilor efectuate asupra datelor cu caracter personal care mă vizează. ")])],-1);function Ml(e,l,a,i,s,n){const d=(0,t.up)("q-toolbar-title"),u=(0,t.up)("q-space"),c=(0,t.up)("q-btn"),r=(0,t.up)("q-toolbar"),m=(0,t.up)("q-separator"),p=(0,t.up)("q-card-section"),v=(0,t.up)("q-card-actions"),b=(0,t.up)("q-card"),g=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(g,{ref:"dialogRef",modelValue:i.isOpenedLocal,"onUpdate:modelValue":l[0]||(l[0]=e=>i.isOpenedLocal=e),onHide:i.onDialogHide,"full-height":"",persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{class:"q-dialog-plugin",style:{width:"100%","max-width":"800px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:(0,o.C_)("q-pr-xs")},{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[Ll])),_:1}),(0,t.Wm)(u),(0,t.Wm)(c,{icon:"close",flat:"",round:"",dense:"",onClick:i.onCancelClick},null,8,["onClick"])])),_:1}),(0,t.Wm)(m),(0,t.Wm)(p,{style:{"min-height":"calc(100vh - 165px)","max-height":"calc(100vh - 165px)"},class:"scroll"},{default:(0,t.w5)((()=>[Zl])),_:1}),(0,t.Wm)(m),(0,t.Wm)(v,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{label:"Închide",onClick:i.onCancelClick},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])}var zl=a(1701);const Tl={name:"TermeniConditii",components:{},props:{},emits:[...zl.Z.emits,"onCloseDialog"],setup(){const e=(0,Ge.oR)(),l=(0,je.iH)(!1),{dialogRef:a,onDialogHide:o,onDialogCancel:i}=(0,zl.Z)(),s=()=>{e.commit("bids/updateTermeniConditii",!1),o()};return(0,t.m0)((()=>{l.value=e.getters["bids/getTermeniConditii"]})),{dialogRef:a,onDialogHide:s,onCancelClick:i,isOpenedLocal:l}}};var Ql=a(6778),Al=a(151),Ol=a(9570),$l=a(3747),jl=a(2025),Yl=a(2165),Kl=a(5869),Gl=a(5589),Xl=a(9367);const Jl=(0,ml.Z)(Tl,[["render",Ml]]),ea=Jl;Hl()(Tl,"components",{QDialog:Ql.Z,QCard:Al.Z,QToolbar:Ol.Z,QToolbarTitle:$l.Z,QSpace:jl.Z,QBtn:Yl.Z,QSeparator:Kl.Z,QCardSection:Gl.Z,QCardActions:Xl.Z});const la=(0,t.aZ)({name:"Calculator",components:{TermeniConditii:ea,FileUpload:Fl.Z,AutocompleteField:Pl,CalculatorRightPanel:Il},setup(){const e=(0,je.iH)(580),l=(0,Ge.oR)(),a=(0,je.iH)(!1),o=(0,je.iH)(!1),i=(0,je.iH)(!1),s=(0,t.Fl)((()=>!!l.getters["auth/getToken"])),n=(0,je.iH)(null),d=`id${Math.random().toString(16).slice(2)}`,u=(0,je.iH)(""),c=(0,je.iH)(null),r=(0,je.iH)([]),m=(0,je.iH)([]),p=(0,je.iH)(null),v=(0,je.iH)([]),b=(0,je.iH)({}),g=(0,je.iH)([]),_=(0,je.iH)([]),h=(0,je.iH)(0),x=(0,je.iH)(0),w=(0,je.iH)(!1),f=new Date,y=(0,je.iH)((0,Ke.vc)(f,"DD.MM.YYYY")),H=(0,je.iH)((0,Ke.vc)(f,"YYYY/MM/DD")),C=(0,je.iH)((0,Ke.vc)(new Date(f.setMonth(f.getMonth()+1)),"YYYY/MM/DD")),q=(0,je.iH)(!1),V=(0,je.iH)(Ke.ov),E=(0,je.iH)(Ke.bq);let k={};k[String(Ke.ov)]={},k[String(Ke.bq)]={};const R=(0,je.iH)({...k}),D=(0,je.iH)(0),B=(0,je.iH)(""),I=(0,je.iH)(!1),U=(0,je.iH)(""),W=(0,je.iH)(!1),N=(0,je.iH)(""),S=(0,je.iH)(!1),P=(0,je.iH)(""),F=(0,je.iH)(!1),L=(0,je.iH)(""),Z=(0,je.iH)(!1),M=(0,je.iH)(""),z=(0,je.iH)(!1),T=(0,je.iH)(""),Q=(0,je.iH)(!1),A=(0,je.iH)(""),O=(0,je.iH)(!1),$=(0,je.iH)(""),j=(0,je.iH)(!1),Y=(0,je.iH)(""),K=(0,je.iH)(!1),G=(0,je.iH)(""),X=(0,je.iH)(!1),J=(0,je.iH)(""),ee=(0,je.iH)(""),le=(0,je.iH)(""),ae=(0,je.iH)(""),te=(0,je.iH)(!1),oe=(0,je.iH)(""),ie=(0,je.iH)(!1),se=(0,je.iH)(""),ne=(0,je.iH)(""),de=(0,je.iH)(""),ue=(0,je.iH)(!0),ce=(0,je.iH)(0),re=(0,je.iH)({}),me=(0,je.iH)(""),pe=(0,je.iH)(""),ve=(0,je.iH)(""),be=(0,je.iH)(""),ge=(0,je.iH)(""),_e=(0,je.iH)(""),he=(0,je.iH)(""),xe=(0,je.iH)(""),we=(0,je.iH)(""),fe=(0,je.iH)(!1),ye=(0,je.iH)(!1),He=(0,je.iH)(""),Ce=(0,je.iH)(""),qe=(0,je.iH)(!1),Ve=(0,je.iH)(!1),Ee=(0,je.iH)([]),ke=(0,je.iH)(null),Re=(0,je.iH)(null),De=(0,t.Fl)((()=>l.getters["auth/getUser"]));(0,t.m0)((()=>{o.value=De.value.role_id===Ke.M6,a.value=De.value.role_id===Ke.i,i.value=De.value.role_id===Ke.Vz}));const Be=(0,t.Fl)((()=>Ke.Ah));l.commit("auth/updateActiveModule","Calculator");const Ie=()=>{(0,Ke.WW)(1,"/print/pre-contract","pre-contract")},Ue=()=>{n.value=null,w.value=!1,u.value="",D.value=0,B.value="",U.value="",N.value="",P.value="",L.value="",M.value="",T.value="",A.value="",$.value="",Y.value="",G.value="",J.value="",ee.value="",le.value="",ae.value="",oe.value="",se.value="",ne.value="",de.value="",ue.value=!0,fe.value=!1,ye.value=!1,me.value="",pe.value="",ve.value="",be.value="",ge.value="",_e.value="",he.value="",xe.value="",we.value="",k={},k[String(Ke.ov)]={},k[String(Ke.bq)]={},R.value={...k}},We=()=>{ce.value&&((0,Ke.QP)(),Ye.api.get(`/dealers/get-data-by-id/${ce.value}`).then((e=>{(0,Ke.Zk)(),e.data.success?(l.commit("dealers/updateOpenedDealerData",e.data.data),re.value=e.data.data,re.value.dealer_products&&(m.value=[],Object.keys(re.value.dealer_products).forEach((e=>{const l=re.value.dealer_products[e].product_id;r.value.forEach(((e,a)=>{e.id===l&&m.value.push(e),0===a&&(c.value=l)}))})))):(0,Ke.NU)({message:e.data.data.message})})).catch((e=>{(0,Ke.Zk)(),(0,Ke.NU)({},e)})))},Ne=()=>{Ue(),b.value={},v.value=[],m.value.forEach((e=>{e&&e.id===c.value&&g.value.forEach((l=>{l&&l.product_id===e.id&&(b.value=l,x.value=l.months_fix,v.value.push(l.months_fix),h.value=l.sum_min>1?l.sum_min:1e3)}))}))},Se=()=>{Ue(),m.value.forEach((e=>{e&&e.id===c.value&&g.value.forEach((l=>{l&&l.product_id===e.id&&x.value===l.months_fix&&(b.value=l)}))}))},Pe=e=>C.value&&H.value?e>=H.value&&e<=C.value:C.value?e<=C.value:!H.value||e<=H.value,Fe=()=>{w.value=!0,u.value="",He.value="",Ce.value="",Ye.api.post("/type-credits-calculate",{sum:h.value,date:y.value,type:b.value.id,months:x.value}).then((e=>{w.value=!1,e.data.success?n.value=e.data.data:u.value=e.data.data.message})).catch((e=>{w.value=!1,(0,Ke.NU)({},e)}))},Le=()=>{if(ye.value=!1,B.value||(I.value=!0),U.value||(W.value=!0),N.value||(S.value=!0),L.value||(Z.value=!0),M.value&&13===M.value.length||(z.value=!0),$.value){const e=$.value.split(".");e[0]&&parseInt(e[0],10)>31&&(j.value=!0),e[1]&&parseInt(e[1],10)>12&&(j.value=!0),e[2]&&parseInt(e[2],10)<1930&&(j.value=!0),e[2]&&parseInt(e[2],10)>2022&&(j.value=!0)}else j.value=!0;if(Y.value||G.value||(X.value=!0),ae.value||oe.value||(ie.value=!0),fe.value||(ye.value=!0),Ce.value="",He.value="",!I.value&&!W.value&&!S.value&&!Z.value&&!z.value&&!j.value&&!X.value&&!ie.value&&!K.value&&!ye.value&&q.value&&b.value&&b.value.id){(ke.value&&ke.value!==M.value||Re.value&&Re.value!==L.value)&&(D.value=0);const e={client_id:D.value,first_name:B.value,last_name:U.value,phone1:N.value,email:P.value,birth_date:$.value,buletin_sn:L.value,buletin_idnp:M.value,buletin_office:T.value,buletin_date_till:A.value,localitate:G.value,region:Y.value,street:J.value,house:ee.value,flat:le.value,localitate_reg:oe.value,region_reg:ae.value,street_reg:se.value,house_reg:ne.value,flat_reg:de.value,same_addresses:ue.value,dealer:ce.value,who_is_cont_pers1:me.value,phone_cont_pers1:pe.value,last_name_cont_pers1:ve.value,first_name_cont_pers1:be.value,who_is_cont_pers2:_e.value,produs:ge.value,phone_cont_pers2:he.value,last_name_cont_pers2:xe.value,first_name_cont_pers2:we.value,type_credit_id:b.value.id,type_credit_name:b.value.name,calc_results:n.value,bid_date:y.value,months:x.value,imprumut:h.value,total_dobinda:n.value.tabelTotal.dobinda,total_comision:n.value.tabelTotal.comision,total_comision_admin:n.value.tabelTotal.comisionAdmin,fileUploadedResponses:R.value};w.value=!0,Ye.api.post("/bids/add-or-edit/0",e).then((e=>{w.value=!1,e.data.success?(Ce.value="Cererea a fost trimisă cu succes! În scurt timp (5-7min) clientul va primi un apel telefonic",Ue(),l.commit("users/updateRefreshGridBidsCalculator",!0)):He.value=e.data.data.message})).catch((e=>{w.value=!1,(0,Ke.NU)({},e)}))}},Ze=()=>{Ye.api.post("/type-credits-list",{}).then((e=>{(0,Ke.Zk)(),e.data.success&&Ye.api.post("/products-list").then((l=>{l.data.success?(r.value=l.data.data.data,m.value=l.data.data.data,m.value.forEach(((l,a)=>{0===a&&(c.value=l.id,e.data.data.data.forEach((e=>{g.value.push(e),e.product_id===l.id&&(p.value=e.id)})))}))):(0,Ke.NU)({message:e.data.data.message})})).catch((e=>{(0,Ke.NU)({},e)}))})).catch((e=>{(0,Ke.Zk)(),(0,Ke.NU)({},e)}))};(0,t.m0)((()=>{c.value&&Ne()})),(0,t.m0)((()=>{ce.value&&We()})),(0,t.m0)((()=>{q.value=n.value&&n.value.tabel})),(0,t.bv)((()=>{Ze(),Ye.api.post("/dealers-list",{}).then((e=>{(0,Ke.Zk)(),e.data.success&&e.data.data.data.forEach(((e,l)=>{_.value.push(e),0===l&&(ce.value=e.id)}))})).catch((e=>{(0,Ke.Zk)(),(0,Ke.NU)({},e)}))}));const Me=e=>{if(qe.value=!1,Ve.value=!1,Ee.value=[],e){let l="buletin_sn"===e&&L.value&&9===L.value.length?L.value:"";l="buletin_idnp"===e&&M.value&&13===M.value.length?M.value:l,l&&(Ee.value=[],Ye.api.post("/clients-list",{filter:l,column:e}).then((l=>{l.data.success&&(Ee.value=l.data.data.data,qe.value="buletin_sn"===e&&Ee.value.length>0,Ve.value="buletin_idnp"===e&&Ee.value.length>0)})).catch((e=>{(0,Ke.NU)({},e)})))}},ze=e=>{D.value=e&&e.id?e.id:0,B.value=e&&e.first_name?e.first_name:null,U.value=e&&e.last_name?e.last_name:null,N.value=e&&e.phone1?e.phone1:null,P.value=e&&e.email?e.email:null,L.value=e&&e.buletin_sn?e.buletin_sn:null,M.value=e&&e.buletin_idnp?e.buletin_idnp:null,T.value=e&&e.buletin_office?e.buletin_office:null,A.value=e&&e.buletin_date_till2?e.buletin_date_till2:null,$.value=e&&e.birth_date2?e.birth_date2:null,Y.value=e&&e.region?e.region:null,G.value=e&&e.localitate?e.localitate:null,J.value=e&&e.street?e.street:null,ee.value=e&&e.house?e.house:null,le.value=e&&e.flat?e.flat:null,ke.value=M.value,Re.value=L.value},Te=e=>{if(e.response.data.data){const l=String(e.linkFileToData.type_id);R.value[l]=e.response.data.data}},Qe=()=>{l.commit("bids/updateTermeniConditii",!0)};return{isExecutor:o,isAdmin:a,isDealer:i,authenticated:s,typeCredits:p,typeCreditsOptions:g,typeCreditsSelected:b,creditMonths:x,creditSum:h,creditDate:y,disableInputs:w,calendarOptions:Pe,calendarLocaleRoLocal:Be,calculate:Fe,calcError:u,calcResults:n,calcResultsExist:q,printPreContract:Ie,clearCalcResults:Ue,clientFirstName:B,clientFirstNameHasError:I,clientLastName:U,clientLastNameHasError:W,clientPhone:N,clientPhoneHasError:S,clientEmail:P,clientEmailHasError:F,clientBuletinSN:L,clientBuletinSNHasError:Z,clientBuletinIDNP:M,clientBuletinIDNPHasError:z,clientBuletinOffice:T,clientBuletinOfficeHasError:Q,clientBuletinDateTill:A,clientBuletinDateTillHasError:O,clientBirthDate:$,clientBirthDateHasError:j,clientRegion:Y,clientRegionHasError:K,clientLocalitate:G,clientLocalitateHasError:X,clientStreet:J,clientHouse:ee,clientFlat:le,clientRegionReg:ae,clientRegionRegHasError:te,clientLocalitateReg:oe,clientLocalitateRegHasError:ie,clientStreetReg:se,clientHouseReg:ne,clientFlatReg:de,clientSameAddresses:ue,dealer:ce,clientWhoIsContPers1:me,clientPhoneContPers1:pe,clientLastNameContPers1:ve,clientFirstNameContPers1:be,clientProdus:ge,clientWhoIsContPers2:_e,clientPhoneContPers2:he,clientLastNameContPers2:xe,clientFirstNameContPers2:we,clientCb:fe,clientCbHasError:ye,addNewBid:Le,bidError:He,bidSuccess:Ce,splitterModel:e,openTermeniConditii:Qe,dealerOptions:_,productOptions:m,product:c,dealerChanged:We,creditMonthsOptions:v,creditMonthsChanged:Se,showBuletinSNDropdown:qe,showBuletinIDNPDropdown:Ve,findClientBy:Me,foundedClients:Ee,selectFoundedClient:ze,uniqId:d,fileTypeBuletin1:V,fileTypeBuletin2:E,fileUploadedResponses:R,onFileUploaded:Te}}});var aa=a(4379),ta=a(5607),oa=a(218),ia=a(4842),sa=a(3944),na=a(6915),da=a(8107),ua=a(811),ca=a(5735),ra=a(677);const ma=(0,ml.Z)(la,[["render",$e]]),pa=ma;Hl()(la,"components",{QPage:aa.Z,QBanner:ta.Z,QSplitter:oa.Z,QSelect:Nl.Z,QCard:Al.Z,QInput:ia.Z,QIcon:hl.Z,QPopupProxy:sa.Z,QDate:na.Z,QBtn:Yl.Z,QTable:da.Z,QMenu:ua.Z,QList:pl.Z,QItem:vl.Z,QItemSection:bl.Z,QCheckbox:ca.Z}),Hl()(la,"directives",{ClosePopup:ra.Z})}}]);