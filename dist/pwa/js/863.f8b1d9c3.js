"use strict";(self["webpackChunkretail_creditbox_md"]=self["webpackChunkretail_creditbox_md"]||[]).push([[863],{5863:(e,a,o)=>{o.r(a),o.d(a,{default:()=>Wa});var t=o(3673),l=o(2323);const s={class:"q-pa-sm"};function n(e,a,o,n,i,c){const r=(0,t.up)("q-item-label"),d=(0,t.up)("q-item-section"),u=(0,t.up)("q-icon"),m=(0,t.up)("q-item"),p=(0,t.up)("q-list"),g=(0,t.up)("q-scroll-area"),_=(0,t.up)("q-drawer"),v=(0,t.up)("q-btn"),x=(0,t.up)("q-page"),C=(0,t.up)("q-page-container"),k=(0,t.up)("q-layout"),h=(0,t.Q2)("ripple");return(0,t.wg)(),(0,t.j4)(x,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{view:"lhh LpR lff",container:"",style:{height:"calc(100vh - 60px)"},class:"bg-grey-2"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{modelValue:e.drawerLeft,"onUpdate:modelValue":a[0]||(a[0]=a=>e.drawerLeft=a),width:220,bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{class:"fit"},{default:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.components,(a=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(m,{key:a.component,class:(0,l.C_)(e.getItemClass(a.component))},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{onClick:o=>e.setOpenedComponent(a.component)},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)(a.label),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,t.Wm)(d,{side:"",onClick:o=>e.setOpenedComponent(a.component)},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{name:"arrow_right",class:"cursor-pointer",color:"gray"})])),_:2},1032,["onClick"])])),_:2},1032,["class"])),[[h]]))),128))])),_:1})])])),_:1})])),_:1},8,["modelValue"]),e.drawerLeft?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(v,{key:0,icon:"menu",round:"",size:"sm",onClick:a[1]||(a[1]=a=>e.drawerLeft=!e.drawerLeft),color:"primary"})),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(x,{style:{"padding-top":"20px"},class:"q-pa-md"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e.openedComponent)))])),_:1})])),_:1})])),_:1})])),_:1})}var i=o(1959);const c={class:"row"},r={class:"row"},d={class:"col-10"},u={class:"text-primary q-ma-none q-pa-none"},m={class:"col-2 text-right"},p={class:"col-12 text-grey"},g={class:"col-12"},_=(0,t._)("span",{class:"text-grey"},"ID: ",-1),v={class:"text-black"},x={key:0,class:"col-12"},C=(0,t._)("span",{class:"text-grey"},"Nr de luni: ",-1),k={class:"text-black"},h={class:"col-12"},b=(0,t._)("span",{class:"text-grey"},"Suma minima: ",-1),w={class:"text-black"},f={class:"col-12"},H=(0,t._)("span",{class:"text-grey"},"Suma maxima: ",-1),y={class:"text-black"},q={class:"col-12"},D={class:"text-grey"},Z=(0,t.Uk)("Dobânda "),S={key:0},V={key:1},P=(0,t.Uk)(" : "),W={class:"text-black"},Q={class:"col-12"},z={class:"text-grey"},O=(0,t.Uk)("Comision "),U={key:0},E={key:1},I=(0,t.Uk)(" : "),M={class:"text-black"},F={class:"col-12"},R={class:"text-grey"},T=(0,t.Uk)("Comision de administrare "),B={key:0},L={key:1},A=(0,t.Uk)(" : "),N={class:"text-black"},j={class:"col-12"},G=(0,t._)("span",{class:"text-grey"},"Comision magazin: ",-1),$={class:"text-black"},K={class:"col-12"},Y=(0,t._)("span",{class:"text-grey"},"Bonus magazin: ",-1),J={class:"text-black"};function X(e,a,o,s,n,i){const X=(0,t.up)("q-btn"),ee=(0,t.up)("dialog-settings-type-credits"),ae=(0,t.up)("q-card-section"),oe=(0,t.up)("q-card"),te=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(te,null,{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t.Wm)(X,{icon:"add",color:"primary",onClick:a[0]||(a[0]=a=>e.openDialog(0)),label:"Adaugă tip nou"}),(0,t.Wm)(ee,{ref:"dialogSettingsTypeCreditsRef"},null,512),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rows,((a,o)=>((0,t.wg)(),(0,t.iD)("div",{key:`tipCard-${o}`,class:"col-12 q-mt-lg"},[(0,t.Wm)(oe,{class:"bg-green-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(ae,null,{default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t._)("div",d,[(0,t._)("h6",u,(0,l.zw)(a.name),1)]),(0,t._)("div",m,[(0,t.Wm)(X,{icon:"edit",class:"q-mr-md",round:"",onClick:o=>e.openDialog(a.id),color:"positive"},null,8,["onClick"]),(0,t.Wm)(X,{icon:"delete",round:"",onClick:o=>e.deleteRow(a.id),color:"negative"},null,8,["onClick"])]),(0,t._)("div",p,(0,l.zw)(a.description_mini),1),(0,t._)("div",g,[_,(0,t._)("span",v,(0,l.zw)(a.id),1)]),a.months_fix?((0,t.wg)(),(0,t.iD)("div",x,[C,(0,t._)("span",k,(0,l.zw)(a.months_fix||"0"),1)])):(0,t.kq)("",!0),(0,t._)("div",h,[b,(0,t._)("span",w,(0,l.zw)(a.sum_min||"0"),1)]),(0,t._)("div",f,[H,(0,t._)("span",y,(0,l.zw)(a.sum_max||"0"),1)]),(0,t._)("div",q,[(0,t._)("span",D,[Z,a.dobinda_is_percent?((0,t.wg)(),(0,t.iD)("span",S,"(procent)")):((0,t.wg)(),(0,t.iD)("span",V,"(coeficient)")),P]),(0,t._)("span",W,(0,l.zw)(a.dobinda||"0"),1)]),(0,t._)("div",Q,[(0,t._)("span",z,[O,a.comision_is_percent?((0,t.wg)(),(0,t.iD)("span",U,"(procent)")):((0,t.wg)(),(0,t.iD)("span",E,"(coeficient)")),I]),(0,t._)("span",M,(0,l.zw)(a.comision||"0"),1)]),(0,t._)("div",F,[(0,t._)("span",R,[T,a.comision_admin_is_percent?((0,t.wg)(),(0,t.iD)("span",B,"(procent)")):((0,t.wg)(),(0,t.iD)("span",L,"(coeficient)")),A]),(0,t._)("span",N,(0,l.zw)(a.comision_admin||"0"),1)]),(0,t._)("div",j,[G,(0,t._)("span",$,(0,l.zw)(a.percent_comision_magazin||"0")+"%",1)]),(0,t._)("div",K,[Y,(0,t._)("span",J,(0,l.zw)(a.percent_bonus_magazin||"0")+"%",1)])])])),_:2},1024)])),_:2},1024)])))),128))])])),_:1})}const ee={class:"text-subtitle1"},ae=(0,t._)("span",{class:"text-blue-grey"},"Tip credit",-1),oe={class:(0,l.C_)("q-ml-md")},te={class:"row"},le={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},se={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 q-pa-xs"},ne={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},ie={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 q-pa-xs"},ce={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 q-pa-xs"},re={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 q-pa-xs"},de={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},ue={class:"q-gutter-sm"},me={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 q-pa-xs"},pe={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},ge={class:"q-gutter-sm"},_e={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 q-pa-xs"},ve={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},xe={class:"q-gutter-sm"},Ce=(0,t._)("div",{class:"col-xl-2 col-lg-2 col-md-2 col-sm-6 col-xs-6 q-pa-xs text-right q-pt-md"}," SHOP FEE ",-1),ke={class:"col-xl-10 col-lg-10 col-md-10 col-sm-6 col-xs-6 q-pa-xs"},he={class:"q-gutter-sm"},be={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 q-pa-xs"},we={class:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 q-pa-xs"};function fe(e,a,o,s,n,i){const c=(0,t.up)("q-toolbar-title"),r=(0,t.up)("q-space"),d=(0,t.up)("q-btn"),u=(0,t.up)("q-toolbar"),m=(0,t.up)("q-separator"),p=(0,t.up)("q-select"),g=(0,t.up)("q-input"),_=(0,t.up)("q-radio"),v=(0,t.up)("q-card-section"),x=(0,t.up)("q-card-actions"),C=(0,t.up)("q-card"),k=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(k,{ref:"dialogRef",modelValue:s.isOpenedLocal,"onUpdate:modelValue":a[34]||(a[34]=e=>s.isOpenedLocal=e),onHide:s.onDialogHide,"full-height":"",persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{class:"q-dialog-plugin",style:{width:"100%","max-width":"800px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:(0,l.C_)("q-pr-xs")},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("span",ee,[ae,(0,t._)("strong",oe,(0,l.zw)(s.id),1)])])),_:1}),(0,t.Wm)(r),(0,t.Wm)(d,{icon:"close",flat:"",round:"",dense:"",onClick:s.onCancelClick},null,8,["onClick"])])),_:1}),(0,t.Wm)(m),(0,t.Wm)(v,{style:{"min-height":"calc(100vh - 165px)","max-height":"calc(100vh - 165px)"},class:"scroll"},{default:(0,t.w5)((()=>[(0,t._)("div",te,[(0,t._)("div",le,[(0,t.Wm)(p,{outlined:"",options:s.productOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",modelValue:s.productId,"onUpdate:modelValue":a[0]||(a[0]=e=>s.productId=e),label:"Produs"},null,8,["options","modelValue"])]),(0,t._)("div",se,[(0,t.Wm)(g,{type:"number",modelValue:s.monthsFix,"onUpdate:modelValue":a[1]||(a[1]=e=>s.monthsFix=e),outlined:"",error:s.monthsFixHasError,onBlur:a[2]||(a[2]=e=>s.monthsFixHasError=!1),onFocus:a[3]||(a[3]=e=>s.monthsFixHasError=!1),rules:[e=>parseInt(String(e),10)>=1&&parseInt(String(e),10)<=24||"Minimum 1 luna, maximum 24 luni"],label:"Numărul de luni"},null,8,["modelValue","error","rules"])]),(0,t._)("div",ne,[(0,t.Wm)(g,{type:"textarea",modelValue:s.descriptionMini,"onUpdate:modelValue":a[4]||(a[4]=e=>s.descriptionMini=e),outlined:"",autogrow:"",error:!1,label:"Descriere"},null,8,["modelValue"])]),(0,t._)("div",ie,[(0,t.Wm)(g,{type:"number",modelValue:s.sumMin,"onUpdate:modelValue":a[5]||(a[5]=e=>s.sumMin=e),outlined:"",error:s.sumMinHasError,onBlur:a[6]||(a[6]=e=>s.sumMinHasError=!1),onFocus:a[7]||(a[7]=e=>s.sumMinHasError=!1),label:"Suma minimă"},null,8,["modelValue","error"])]),(0,t._)("div",ce,[(0,t.Wm)(g,{type:"number",modelValue:s.sumMax,"onUpdate:modelValue":a[8]||(a[8]=e=>s.sumMax=e),outlined:"",error:s.sumMaxHasError,onBlur:a[9]||(a[9]=e=>s.sumMaxHasError=!1),onFocus:a[10]||(a[10]=e=>s.sumMaxHasError=!1),label:"Suma maximă"},null,8,["modelValue","error"])]),(0,t._)("div",re,[(0,t.Wm)(g,{type:"number",modelValue:s.dobinda,"onUpdate:modelValue":a[11]||(a[11]=e=>s.dobinda=e),outlined:"",error:s.dobindaHasError,onBlur:a[12]||(a[12]=e=>s.dobindaHasError=!1),onFocus:a[13]||(a[13]=e=>s.dobindaHasError=!1),label:"Dobânda"},null,8,["modelValue","error"])]),(0,t._)("div",de,[(0,t._)("div",ue,[(0,t.Wm)(_,{modelValue:s.dobindaIsPercent,"onUpdate:modelValue":a[14]||(a[14]=e=>s.dobindaIsPercent=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:0,label:"Coeficient"},null,8,["modelValue"]),(0,t.Wm)(_,{modelValue:s.dobindaIsPercent,"onUpdate:modelValue":a[15]||(a[15]=e=>s.dobindaIsPercent=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:1,label:"Procent"},null,8,["modelValue"])])]),(0,t._)("div",me,[(0,t.Wm)(g,{type:"number",modelValue:s.comision,"onUpdate:modelValue":a[16]||(a[16]=e=>s.comision=e),outlined:"",error:s.comisionHasError,onBlur:a[17]||(a[17]=e=>s.comisionHasError=!1),onFocus:a[18]||(a[18]=e=>s.comisionHasError=!1),label:"Comision de examinare"},null,8,["modelValue","error"])]),(0,t._)("div",pe,[(0,t._)("div",ge,[(0,t.Wm)(_,{modelValue:s.comisionIsPercent,"onUpdate:modelValue":a[19]||(a[19]=e=>s.comisionIsPercent=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:0,label:"Coeficient"},null,8,["modelValue"]),(0,t.Wm)(_,{modelValue:s.comisionIsPercent,"onUpdate:modelValue":a[20]||(a[20]=e=>s.comisionIsPercent=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:1,label:"Procent"},null,8,["modelValue"])])]),(0,t._)("div",_e,[(0,t.Wm)(g,{type:"number",modelValue:s.comisionAdmin,"onUpdate:modelValue":a[21]||(a[21]=e=>s.comisionAdmin=e),outlined:"",error:s.comisionAdminHasError,onBlur:a[22]||(a[22]=e=>s.comisionAdminHasError=!1),onFocus:a[23]||(a[23]=e=>s.comisionAdminHasError=!1),label:"Comision de administrare"},null,8,["modelValue","error"])]),(0,t._)("div",ve,[(0,t._)("div",xe,[(0,t.Wm)(_,{modelValue:s.comisionAdminIsPercent,"onUpdate:modelValue":a[24]||(a[24]=e=>s.comisionAdminIsPercent=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:0,label:"Coeficient"},null,8,["modelValue"]),(0,t.Wm)(_,{modelValue:s.comisionAdminIsPercent,"onUpdate:modelValue":a[25]||(a[25]=e=>s.comisionAdminIsPercent=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:1,label:"Procent"},null,8,["modelValue"])])]),Ce,(0,t._)("div",ke,[(0,t._)("div",he,[(0,t.Wm)(_,{modelValue:s.isShopFee,"onUpdate:modelValue":a[26]||(a[26]=e=>s.isShopFee=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:1,label:"Da"},null,8,["modelValue"]),(0,t.Wm)(_,{modelValue:s.isShopFee,"onUpdate:modelValue":a[27]||(a[27]=e=>s.isShopFee=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:0,label:"Nu "},null,8,["modelValue"])])]),(0,t._)("div",be,[(0,t.Wm)(g,{type:"number",modelValue:s.percentComisionMagazin,"onUpdate:modelValue":a[28]||(a[28]=e=>s.percentComisionMagazin=e),outlined:"",error:s.percentComisionMagazinHasError,onBlur:a[29]||(a[29]=e=>s.percentComisionMagazinHasError=!1),onFocus:a[30]||(a[30]=e=>s.percentComisionMagazinHasError=!1),label:"Procent comision magazin"},null,8,["modelValue","error"])]),(0,t._)("div",we,[(0,t.Wm)(g,{type:"number",modelValue:s.percentBonusMagazin,"onUpdate:modelValue":a[31]||(a[31]=e=>s.percentBonusMagazin=e),outlined:"",error:s.percentBonusMagazinHasError,onBlur:a[32]||(a[32]=e=>s.percentBonusMagazinHasError=!1),onFocus:a[33]||(a[33]=e=>s.percentBonusMagazinHasError=!1),label:"Procent bonus magazin"},null,8,["modelValue","error"])])])])),_:1}),(0,t.Wm)(m),(0,t.Wm)(x,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{color:"primary",label:"Salvează",onClick:s.onOKClick},null,8,["onClick"]),(0,t.Wm)(d,{label:"Închide",onClick:s.onCancelClick},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])}o(71);var He=o(1701),ye=o(3413),qe=o(5474),De=o(3617);const Ze={name:"DialogSettingsTypeCredits",components:{},props:{},emits:[...He.Z.emits,"onCloseDialog"],setup(){const e=(0,De.oR)(),a=(0,i.iH)(""),o=(0,i.iH)(""),l=(0,i.iH)(!1),s=(0,i.iH)(!1),n=(0,i.iH)(0),c=(0,i.iH)(0),r=(0,i.iH)(1),d=(0,i.iH)(!1),u=(0,i.iH)(0),m=(0,i.iH)(!1),p=(0,i.iH)(0),g=(0,i.iH)(!1),_=(0,i.iH)(0),v=(0,i.iH)(0),x=(0,i.iH)(!1),C=(0,i.iH)(0),k=(0,i.iH)(0),h=(0,i.iH)(0),b=(0,i.iH)(!1),w=(0,i.iH)(0),f=(0,i.iH)(0),H=(0,i.iH)(!1),y=(0,i.iH)(0),q=(0,i.iH)(!1),D=(0,i.iH)(0),Z=(0,i.iH)(!1),S=(0,i.iH)(""),V=(0,i.iH)(0),P=(0,i.iH)([]),W=(0,i.iH)({}),{dialogRef:Q,onDialogHide:z,onDialogCancel:O}=(0,He.Z)();(0,t.m0)((()=>{s.value=e.getters["settingsTypeCredits/getOpenedSettingsDialogForm"]})),(0,t.m0)((()=>{W.value=e.getters["settingsTypeCredits/getOpenedSettingsDialogData"]})),(0,t.m0)((()=>{c.value=W.value.id,a.value=W.value.name,r.value=W.value.months_fix,u.value=W.value.sum_min,p.value=W.value.sum_max,_.value=W.value.comision_is_percent?1:0,v.value=W.value.comision,C.value=W.value.comision_admin_is_percent?1:0,k.value=W.value.is_shop_fee?1:0,h.value=W.value.comision_admin,w.value=W.value.dobinda_is_percent?1:0,f.value=W.value.dobinda,y.value=W.value.percent_comision_magazin,D.value=W.value.percent_bonus_magazin,S.value=W.value.description_mini,V.value=W.value.product_id}));const U=(a=null)=>{const o={...e.getters["settingsTypeCredits/getOpenedSettingsDialogData"]};o.id=a,e.commit("settingsTypeCredits/updateOpenedSettingsDialogData",o),(0,ye.QP)(),qe.api.get(`/type-credits/get-data-by-id/${a}`).then((a=>{(0,ye.Zk)(),a.data.success?(e.commit("settingsTypeCredits/updateOpenedSettingsDialogData",a.data.data),e.commit("settingsTypeCredits/updateOpenedSettingsDialogForm",!0)):(0,ye.NU)({message:a.data.data.message})})).catch((e=>{(0,ye.Zk)(),(0,ye.NU)({},e)})),qe.api.post("/products-list").then((e=>{e.data.success?P.value=e.data.data.data:(0,ye.NU)({message:e.data.data.message})})).catch((e=>{(0,ye.NU)({},e)}))},E=()=>{e.commit("settingsTypeCredits/updateOpenedSettingsDialogData",{}),e.commit("settingsTypeCredits/updateOpenedSettingsDialogForm",!1),z()},I=()=>{if(a.value||(l.value=!0),r.value||(d.value=!0),!l.value&&!d.value){const o={name:a.value,description_mini:S.value,months_fix:r.value,sum_min:u.value,sum_max:p.value,dobinda_is_percent:w.value,dobinda:f.value,comision_is_percent:_.value,comision:v.value,comision_admin_is_percent:C.value,is_shop_fee:k.value,comision_admin:h.value,percent_comision_magazin:y.value,percent_bonus_magazin:D.value,product_id:V.value};(0,ye.QP)();const t=parseInt(String(c.value),10);qe.api.post(`/type-credits/add-or-edit/${t}`,o).then((a=>{(0,ye.Zk)(),a.data.success?(e.commit("settingsTypeCredits/updateOpenedSettingsDialogData",{}),e.commit("settingsTypeCredits/updateOpenedSettingsDialogForm",!1),e.commit("settingsTypeCredits/updateRefreshGrid",!0)):(0,ye.NU)({message:"Eroare de update"})})).catch((e=>{(0,ye.Zk)(),(0,ye.NU)({},e)}))}};return{dialogRef:Q,onDialogHide:E,onOKClick:I,onCancelClick:O,isOpenedLocal:s,id:c,getDataById:U,description:o,name:a,nameHasError:l,isDiapazon:n,monthsFix:r,monthsFixHasError:d,sumMin:u,sumMinHasError:m,sumMax:p,sumMaxHasError:g,comision:v,comisionIsPercent:_,comisionAdminIsPercent:C,isShopFee:k,comisionHasError:x,comisionAdmin:h,comisionAdminHasError:b,dobindaIsPercent:w,dobinda:f,dobindaHasError:H,percentComisionMagazin:y,percentComisionMagazinHasError:q,percentBonusMagazin:D,percentBonusMagazinHasError:Z,descriptionMini:S,productId:V,productOptions:P}}};var Se=o(4260),Ve=o(6778),Pe=o(151),We=o(9570),Qe=o(3747),ze=o(2025),Oe=o(2165),Ue=o(5869),Ee=o(5589),Ie=o(8516),Me=o(4842),Fe=o(7991),Re=o(9367),Te=o(7518),Be=o.n(Te);const Le=(0,Se.Z)(Ze,[["render",fe]]),Ae=Le;Be()(Ze,"components",{QDialog:Ve.Z,QCard:Pe.Z,QToolbar:We.Z,QToolbarTitle:Qe.Z,QSpace:ze.Z,QBtn:Oe.Z,QSeparator:Ue.Z,QCardSection:Ee.Z,QSelect:Ie.Z,QInput:Me.Z,QRadio:Fe.Z,QCardActions:Re.Z});var Ne=o(8825);const je=(0,t.aZ)({name:"PageSettingsTypeCredits",components:{DialogSettingsTypeCredits:Ae},setup(){const e=(0,Ne.Z)(),a=(0,i.iH)(null),o=(0,i.iH)(!0),l=(0,De.oR)(),s=(0,i.iH)([]),n=()=>{l.commit("settingsTypeCredits/updateRefreshGrid",!1),(0,ye.QP)(),qe.api.post("/type-credits-list",{}).then((e=>{(0,ye.Zk)(),e.data.success&&(s.value=e.data.data.data)})).catch((e=>{(0,ye.Zk)(),(0,ye.NU)({},e)}))};(0,t.m0)((()=>{l.getters["settingsTypeCredits/getRefreshGrid"]&&n()})),(0,t.bv)((()=>{n()}));const c=e=>{e?a.value.getDataById(e):(l.commit("settingsTypeCredits/updateOpenedSettingsDialogData",{}),l.commit("settingsTypeCredits/updateOpenedSettingsDialogForm",!0))},r=a=>{e.dialog({title:"Atenție",message:"Sunteți sigur că doriți să ștergeți?",cancel:!0,persistent:!0}).onOk((()=>{qe.api["delete"](`/type-credits/${a}`).then((()=>{n()}))}))};return{drawerLeft:o,openDialog:c,onRequest:n,rows:s,dialogSettingsTypeCreditsRef:a,deleteRow:r}}});var Ge=o(4379);const $e=(0,Se.Z)(je,[["render",X]]),Ke=$e;Be()(je,"components",{QPage:Ge.Z,QBtn:Oe.Z,QCard:Pe.Z,QCardSection:Ee.Z});const Ye={class:"row"},Je={class:"row"},Xe={class:"col-10"},ea={class:"text-primary q-ma-none q-pa-none"},aa={class:"col-2 text-right"};function oa(e,a,o,s,n,i){const c=(0,t.up)("q-btn"),r=(0,t.up)("dialog-settings-products"),d=(0,t.up)("q-card-section"),u=(0,t.up)("q-card"),m=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(m,null,{default:(0,t.w5)((()=>[(0,t._)("div",Ye,[(0,t.Wm)(c,{icon:"add",color:"primary",onClick:a[0]||(a[0]=a=>e.openDialog(0)),label:"Adaugă produs nou"}),(0,t.Wm)(r,{ref:"dialogSettingsProductsRef"},null,512),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rows,((a,o)=>((0,t.wg)(),(0,t.iD)("div",{key:`tipCard-${o}`,class:"col-12 q-mt-lg"},[(0,t.Wm)(u,{class:"bg-green-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t._)("div",Je,[(0,t._)("div",Xe,[(0,t._)("h6",ea,(0,l.zw)(a.name),1)]),(0,t._)("div",aa,[(0,t.Wm)(c,{icon:"edit",class:"q-mr-md",round:"",onClick:o=>e.openDialog(a.id),color:"positive"},null,8,["onClick"]),(0,t.Wm)(c,{icon:"delete",round:"",onClick:o=>e.deleteRow(a.id),color:"negative"},null,8,["onClick"])])])])),_:2},1024)])),_:2},1024)])))),128))])])),_:1})}const ta={class:"text-subtitle1"},la=(0,t._)("span",{class:"text-blue-grey"},"Produs",-1),sa={class:(0,l.C_)("q-ml-md")},na={class:"row"},ia={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"};function ca(e,a,o,s,n,i){const c=(0,t.up)("q-toolbar-title"),r=(0,t.up)("q-space"),d=(0,t.up)("q-btn"),u=(0,t.up)("q-toolbar"),m=(0,t.up)("q-separator"),p=(0,t.up)("q-input"),g=(0,t.up)("q-card-section"),_=(0,t.up)("q-card-actions"),v=(0,t.up)("q-card"),x=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(x,{ref:"dialogRef",modelValue:s.isOpenedLocal,"onUpdate:modelValue":a[3]||(a[3]=e=>s.isOpenedLocal=e),onHide:s.onDialogHide,"full-height":"",persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{class:"q-dialog-plugin",style:{width:"100%","max-width":"800px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:(0,l.C_)("q-pr-xs")},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("span",ta,[la,(0,t._)("strong",sa,(0,l.zw)(s.id),1)])])),_:1}),(0,t.Wm)(r),(0,t.Wm)(d,{icon:"close",flat:"",round:"",dense:"",onClick:s.onCancelClick},null,8,["onClick"])])),_:1}),(0,t.Wm)(m),(0,t.Wm)(g,{style:{"min-height":"calc(100vh - 165px)","max-height":"calc(100vh - 165px)"},class:"scroll"},{default:(0,t.w5)((()=>[(0,t._)("div",na,[(0,t._)("div",ia,[(0,t.Wm)(p,{outlined:"",error:s.nameHasError,onBlur:a[0]||(a[0]=e=>s.nameHasError=!1),onFocus:a[1]||(a[1]=e=>s.nameHasError=!1),modelValue:s.name,"onUpdate:modelValue":a[2]||(a[2]=e=>s.name=e),rules:[e=>e.length>=2||"Minimum 2 caractere"],label:"Nume"},null,8,["error","modelValue","rules"])])])])),_:1}),(0,t.Wm)(m),(0,t.Wm)(_,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{color:"primary",label:"Salvează",onClick:s.onOKClick},null,8,["onClick"]),(0,t.Wm)(d,{label:"Închide",onClick:s.onCancelClick},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])}const ra={name:"DialogSettingsProducts",components:{},props:{},emits:[...He.Z.emits,"onCloseDialog"],setup(){const e=(0,De.oR)(),a=(0,i.iH)(""),o=(0,i.iH)(!1),l=(0,i.iH)(!1),s=(0,i.iH)(0),n=(0,i.iH)({}),{dialogRef:c,onDialogHide:r,onDialogCancel:d}=(0,He.Z)();(0,t.m0)((()=>{l.value=e.getters["settingsProducts/getOpenedSettingsDialogForm"]})),(0,t.m0)((()=>{n.value=e.getters["settingsProducts/getOpenedSettingsDialogData"]})),(0,t.m0)((()=>{s.value=n.value.id,a.value=n.value.name}));const u=(a=null)=>{const o={...e.getters["settingsProducts/getOpenedSettingsDialogData"]};o.id=a,e.commit("settingsProducts/updateOpenedSettingsDialogData",o),(0,ye.QP)(),qe.api.get(`/products/get-data-by-id/${a}`).then((a=>{(0,ye.Zk)(),a.data.success?(e.commit("settingsProducts/updateOpenedSettingsDialogData",a.data.data),e.commit("settingsProducts/updateOpenedSettingsDialogForm",!0)):(0,ye.NU)({message:a.data.data.message})})).catch((e=>{(0,ye.Zk)(),(0,ye.NU)({},e)}))},m=()=>{e.commit("settingsProducts/updateOpenedSettingsDialogData",{}),e.commit("settingsProducts/updateOpenedSettingsDialogForm",!1),r()},p=()=>{if(a.value||(o.value=!0),!o.value){const o={name:a.value};(0,ye.QP)();const t=parseInt(String(s.value),10);qe.api.post(`/products/add-or-edit/${t}`,o).then((a=>{(0,ye.Zk)(),a.data.success?(e.commit("settingsProducts/updateOpenedSettingsDialogData",{}),e.commit("settingsProducts/updateOpenedSettingsDialogForm",!1),e.commit("settingsProducts/updateRefreshGrid",!0)):(0,ye.NU)({message:"Eroare de update"})})).catch((e=>{(0,ye.Zk)(),(0,ye.NU)({},e)}))}};return{dialogRef:c,onDialogHide:m,onOKClick:p,onCancelClick:d,isOpenedLocal:l,id:s,getDataById:u,name:a,nameHasError:o}}},da=(0,Se.Z)(ra,[["render",ca]]),ua=da;Be()(ra,"components",{QDialog:Ve.Z,QCard:Pe.Z,QToolbar:We.Z,QToolbarTitle:Qe.Z,QSpace:ze.Z,QBtn:Oe.Z,QSeparator:Ue.Z,QCardSection:Ee.Z,QInput:Me.Z,QCardActions:Re.Z});const ma=(0,t.aZ)({name:"PageSettingsProducts",components:{DialogSettingsProducts:ua},setup(){const e=(0,Ne.Z)(),a=(0,i.iH)(null),o=(0,i.iH)(!0),l=(0,De.oR)(),s=(0,i.iH)([]),n=()=>{l.commit("settingsProducts/updateRefreshGrid",!1),(0,ye.QP)(),qe.api.post("/products-list",{}).then((e=>{(0,ye.Zk)(),e.data.success&&(s.value=e.data.data.data)})).catch((e=>{(0,ye.Zk)(),(0,ye.NU)({},e)}))};(0,t.m0)((()=>{l.getters["settingsProducts/getRefreshGrid"]&&n()})),(0,t.bv)((()=>{n()}));const c=e=>{e?a.value.getDataById(e):(l.commit("settingsProducts/updateOpenedSettingsDialogData",{}),l.commit("settingsProducts/updateOpenedSettingsDialogForm",!0))},r=a=>{e.dialog({title:"Atenție",message:"Sunteți sigur că doriți să ștergeți?",cancel:!0,persistent:!0}).onOk((()=>{qe.api["delete"](`/products/${a}`).then((()=>{n()}))}))};return{drawerLeft:o,openDialog:c,onRequest:n,rows:s,dialogSettingsProductsRef:a,deleteRow:r}}}),pa=(0,Se.Z)(ma,[["render",oa]]),ga=pa;Be()(ma,"components",{QPage:Ge.Z,QBtn:Oe.Z,QCard:Pe.Z,QCardSection:Ee.Z});const _a=(0,t._)("div",{class:"row"},null,-1);function va(e,a,o,l,s,n){const i=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(i,null,{default:(0,t.w5)((()=>[_a])),_:1})}const xa=(0,t.aZ)({name:"PageSettingsGenerals",components:{},setup(){const e=(0,i.iH)(null),a=(0,i.iH)(!0),o=(0,i.iH)([]),l=()=>{(0,ye.QP)(),qe.api.post("/settings-list",{}).then((e=>{(0,ye.Zk)(),e.data.success&&(o.value=e.data.data.data)})).catch((e=>{(0,ye.Zk)(),(0,ye.NU)({},e)}))};return(0,t.bv)((()=>{l()})),{drawerLeft:a,onRequest:l,rows:o,dialogSettingsTypeCreditsRef:e}}}),Ca=(0,Se.Z)(xa,[["render",va]]),ka=Ca;Be()(xa,"components",{QPage:Ge.Z});const ha=(0,t.aZ)({name:"PageSettings",components:{PageSettingsGenerals:ka,PageSettingsTypeCredits:Ke,PageSettingsProducts:ga},setup(){const e=(0,i.iH)(!0),a=(0,i.iH)("page-settings-type-credits"),o=(0,i.iH)([{component:"page-settings-type-credits",label:"Tip credite"},{component:"page-settings-products",label:"Lista Produse"},{component:"page-settings-generals",label:"Generale"}]),l=(0,De.oR)(),s=(0,t.Fl)((()=>e=>{let o="cursor-pointer";return e===a.value&&(o+=" text-primary text-weight-bold"),o})),n=e=>{a.value=e};return(0,t.bv)((()=>{l.commit("auth/updateActiveModule","Settings")})),{drawerLeft:e,openedComponent:a,setOpenedComponent:n,components:o,getItemClass:s}}});var ba=o(9214),wa=o(2901),fa=o(7704),Ha=o(7011),ya=o(3414),qa=o(2035),Da=o(2350),Za=o(4554),Sa=o(2652),Va=o(6489);const Pa=(0,Se.Z)(ha,[["render",n]]),Wa=Pa;Be()(ha,"components",{QPage:Ge.Z,QLayout:ba.Z,QDrawer:wa.Z,QScrollArea:fa.Z,QList:Ha.Z,QItem:ya.Z,QItemSection:qa.Z,QItemLabel:Da.Z,QIcon:Za.Z,QBtn:Oe.Z,QPageContainer:Sa.Z}),Be()(ha,"directives",{Ripple:Va.Z})}}]);