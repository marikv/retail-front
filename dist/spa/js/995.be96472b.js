"use strict";(self["webpackChunkretail_creditbox_md"]=self["webpackChunkretail_creditbox_md"]||[]).push([[995],{1995:(e,l,t)=>{t.r(l),t.d(l,{default:()=>ze});var a=t(3673),s=t(2323),o=t(8880);const i={key:1,class:"row content-start"},c={class:"q-pa-md"},n={class:"row",style:{"max-width":"600px",margin:"auto"}},d=(0,a._)("div",{class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"},[(0,a._)("h6",{class:"q-pa-none q-ma-none text-primary"},"Calculator")],-1),u={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},r=(0,a._)("span",{class:"text-primary"},"Tip credit",-1),m={key:0,class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},p={class:"bg-green-1 q-pa-sm text-grey-7 q-card--bordered rounded-borders text-caption"},v={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},b={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},x={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},h=(0,a._)("span",{class:"text-primary"},"Suma creditului (MDL)",-1),_={class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs"},g={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs"},H={key:1,class:"row"},y={class:"col-xl-2 col-lg-2 col-md-2 col-sm-3 col-xs-3 q-pt-lg"},V=(0,a.Uk)(" DAE: "),w={key:0},E={class:"col-xl-10 col-lg-10 col-md-10 col-sm-9 col-xs-9 text-right q-py-md"},f=(0,a._)("div",{class:"col-2 text-subtitle2"},"Data",-1),C=(0,a._)("div",{class:"col-2 text-subtitle2 text-right"},"Suma",-1),q=(0,a._)("div",{class:"col-2 text-subtitle2 text-right"},"Dob.",-1),B=(0,a._)("div",{class:"col-2 text-subtitle2 text-right"},"Com.",-1),D=(0,a._)("div",{class:"col-2 text-subtitle2 text-right"},"Com.admin",-1),P=(0,a._)("div",{class:"col-2 text-subtitle2 text-right"},"Total",-1),N={class:"col-2"},F={class:"col-2 text-right"},I={class:"col-2 text-right"},k={class:"col-2 text-right"},S={class:"col-2 text-right"},R={class:"col-2 text-right"},W=(0,a._)("div",{class:"col-2 text-subtitle2"},"Total",-1),U={class:"col-2 text-subtitle2 text-right"},L={class:"col-2 text-subtitle2 text-right"},z={class:"col-2 text-subtitle2 text-right"},M={class:"col-2 text-subtitle2 text-right"},Z={class:"col-2 text-subtitle2 text-right"},T={class:"col-12 row q-pb-xl q-mb-xl"},A=(0,a._)("div",{class:"col-12"},[(0,a._)("h6",{class:"q-pa-none q-ma-none text-primary"},"Adaugă o cerere nouă")],-1),Q={key:0,class:"col-12 q-pa-xs q-mb-md"},Y=(0,a._)("span",{class:"text-primary"},"Dealer",-1),j={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},O={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},$={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},G={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},K={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},J={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},X={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ee={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},le={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},te={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ae=(0,a._)("div",{class:"col-12 text-primary"},"Persoana de contact",-1),se={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},oe={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ie={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ce={class:"col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pa-xs"},ne={class:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-xs text-caption"},de={class:"col-xl-10 col-lg-10 col-md-10 col-sm-10 col-xs-12 q-pa-xs text-right"},ue={class:"col-xl-2 col-lg-2 col-md-2 col-sm-2 col-xs-12 q-pa-xs text-right"};function re(e,l,t,re,me,pe){const ve=(0,a.up)("q-banner"),be=(0,a.up)("q-select"),xe=(0,a.up)("q-input"),he=(0,a.up)("q-btn"),_e=(0,a.up)("autocomplete-field"),ge=(0,a.up)("q-checkbox"),He=(0,a.up)("q-icon"),ye=(0,a.up)("bids-list-for-calculator"),Ve=(0,a.up)("q-splitter"),we=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(we,null,{default:(0,a.w5)((()=>[e.authenticated?((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(Ve,{class:"full-width",modelValue:e.splitterModel,"onUpdate:modelValue":l[42]||(l[42]=l=>e.splitterModel=l),unit:"px",reverse:"","separator-class":"bg-indigo-3","separator-style":"width: 2px"},{before:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("div",n,[d,(0,a._)("div",u,[(0,a.Wm)(be,{outlined:"",color:"primary",disable:e.disableInputs,modelValue:e.typeCredits,"onUpdate:modelValue":l[0]||(l[0]=l=>e.typeCredits=l),options:e.typeCreditsOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",label:"Tip credit"},{label:(0,a.w5)((()=>[r])),_:1},8,["disable","modelValue","options"])]),e.typeCreditsSelected&&e.typeCreditsSelected.id?((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",p,(0,s.zw)(e.typeCreditsSelected.description_mini),1)])):(0,a.kq)("",!0),(0,a._)("div",v,[(0,a.Wm)(xe,{outlined:"",disable:e.disableInputs,readonly:!!e.typeCreditsSelected.months_fix,type:"text",label:"Termenul creditului (luni)",modelValue:e.creditMonths,"onUpdate:modelValue":l[1]||(l[1]=l=>e.creditMonths=l)},null,8,["disable","readonly","modelValue"])]),(0,a._)("div",b,[(0,a.Wm)(xe,{outlined:"",readonly:"",disable:e.disableInputs,modelValue:e.creditDate,"onUpdate:modelValue":l[2]||(l[2]=l=>e.creditDate=l),label:"Data cererii",mask:"##.##.####"},null,8,["disable","modelValue"])]),(0,a._)("div",x,[(0,a.Wm)(xe,{outlined:"",disable:e.disableInputs,type:"number",label:"Suma creditului (MDL)",modelValue:e.creditSum,"onUpdate:modelValue":l[3]||(l[3]=l=>e.creditSum=l)},{label:(0,a.w5)((()=>[h])),_:1},8,["disable","modelValue"])]),(0,a._)("div",_,[(0,a.Wm)(he,{size:"lg",onClick:l[4]||(l[4]=l=>e.calculate()),class:"full-height full-width",label:"Calculează",color:"primary"})]),(0,a._)("div",g,[e.calcError?((0,a.wg)(),(0,a.j4)(ve,{key:0,class:"bg-red-2 rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.calcError),1)])),_:1})):e.calcResultsExist?((0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("div",y,[V,e.calcResults?((0,a.wg)(),(0,a.iD)("span",w,(0,s.zw)(e.calcResults.DAE)+"%",1)):(0,a.kq)("",!0)]),(0,a._)("div",E,[(0,a.Wm)(he,{size:"md",onClick:l[5]||(l[5]=l=>e.printPreContract()),icon:"print",label:"Pre-Contract",class:"q-mr-md"}),(0,a.Wm)(he,{size:"md",onClick:l[6]||(l[6]=l=>e.clearCalcResults()),icon:"clear",label:"Anulează"})]),f,C,q,B,D,P,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.calcResults.tabel,((e,l)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:`res-${l}`},[(0,a._)("div",N,(0,s.zw)(e.data),1),(0,a._)("div",F,(0,s.zw)(e.imprumtPerLuna),1),(0,a._)("div",I,(0,s.zw)(e.dobindaPerLuna),1),(0,a._)("div",k,(0,s.zw)(e.comisionPerLuna),1),(0,a._)("div",S,(0,s.zw)(e.comisionAdminPerLuna),1),(0,a._)("div",R,(0,s.zw)(e.totalPerLuna),1)],64)))),128)),W,(0,a._)("div",U,(0,s.zw)(e.calcResults.tabelTotal.imprumut),1),(0,a._)("div",L,(0,s.zw)(e.calcResults.tabelTotal.dobinda),1),(0,a._)("div",z,(0,s.zw)(e.calcResults.tabelTotal.comision),1),(0,a._)("div",M,(0,s.zw)(e.calcResults.tabelTotal.comisionAdmin),1),(0,a._)("div",Z,(0,s.zw)(e.calcResults.tabelTotal.total),1)])):(0,a.kq)("",!0)])]),(0,a.wy)((0,a._)("div",T,[A,e.isDealer?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Q,[(0,a.Wm)(be,{dense:"",outlined:"",color:"primary",disable:!e.calcResultsExist||e.disableInputs,modelValue:e.dealer,"onUpdate:modelValue":l[7]||(l[7]=l=>e.dealer=l),options:e.dealerOptions,"emit-value":"","map-options":"","option-value":"id","option-label":"name",label:"Dealer"},{label:(0,a.w5)((()=>[Y])),_:1},8,["disable","modelValue","options"])])),(0,a._)("div",j,[(0,a.Wm)(_e,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientFirstNameHasError,onBlur:l[8]||(l[8]=l=>e.clientFirstNameHasError=!1),onFocus:l[9]||(l[9]=l=>e.clientFirstNameHasError=!1),type:"text",label:"Nume client",modelValue:e.clientFirstName,"onUpdate:modelValue":l[10]||(l[10]=l=>e.clientFirstName=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",O,[(0,a.Wm)(_e,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLastNameHasError,onBlur:l[11]||(l[11]=l=>e.clientLastNameHasError=!1),onFocus:l[12]||(l[12]=l=>e.clientLastNameHasError=!1),type:"text",label:"Prenume client",modelValue:e.clientLastName,"onUpdate:modelValue":l[13]||(l[13]=l=>e.clientLastName=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",$,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientPhoneHasError,onBlur:l[14]||(l[14]=l=>e.clientPhoneHasError=!1),onFocus:l[15]||(l[15]=l=>e.clientPhoneHasError=!1),type:"text",label:"Telefon",modelValue:e.clientPhone,"onUpdate:modelValue":l[16]||(l[16]=l=>e.clientPhone=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",G,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBirthDateHasError,onBlur:l[17]||(l[17]=l=>e.clientBirthDateHasError=!1),onFocus:l[18]||(l[18]=l=>e.clientBirthDateHasError=!1),type:"text",mask:"##.##.####",label:"Data de naștere",modelValue:e.clientBirthDate,"onUpdate:modelValue":l[19]||(l[19]=l=>e.clientBirthDate=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",K,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinSNHasError,onBlur:l[20]||(l[20]=l=>e.clientBuletinSNHasError=!1),onFocus:l[21]||(l[21]=l=>e.clientBuletinSNHasError=!1),type:"text",rules:[e=>9===e.length||"9 caractere"],label:"Buletin S/N",modelValue:e.clientBuletinSN,"onUpdate:modelValue":l[22]||(l[22]=l=>e.clientBuletinSN=l)},null,8,["disable","error","rules","modelValue"])]),(0,a._)("div",J,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientBuletinIDNPHasError,onBlur:l[23]||(l[23]=l=>e.clientBuletinIDNPHasError=!1),onFocus:l[24]||(l[24]=l=>e.clientBuletinIDNPHasError=!1),type:"text",rules:[e=>13===e.length||"13 cifre"],label:"Buletin IDNP",modelValue:e.clientBuletinIDNP,"onUpdate:modelValue":l[25]||(l[25]=l=>e.clientBuletinIDNP=l)},null,8,["disable","error","rules","modelValue"])]),(0,a._)("div",X,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,error:e.clientLocalitateHasError,onBlur:l[26]||(l[26]=l=>e.clientLocalitateHasError=!1),onFocus:l[27]||(l[27]=l=>e.clientLocalitateHasError=!1),type:"text",label:"Localitate",modelValue:e.clientLocalitate,"onUpdate:modelValue":l[28]||(l[28]=l=>e.clientLocalitate=l)},null,8,["disable","error","modelValue"])]),(0,a._)("div",ee,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Strada",modelValue:e.clientStreet,"onUpdate:modelValue":l[29]||(l[29]=l=>e.clientStreet=l)},null,8,["disable","modelValue"])]),(0,a._)("div",le,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Bloc",modelValue:e.clientHouse,"onUpdate:modelValue":l[30]||(l[30]=l=>e.clientHouse=l)},null,8,["disable","modelValue"])]),(0,a._)("div",te,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Apartament",modelValue:e.clientFlat,"onUpdate:modelValue":l[31]||(l[31]=l=>e.clientFlat=l)},null,8,["disable","modelValue"])]),ae,(0,a._)("div",se,[(0,a.Wm)(_e,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Nume",modelValue:e.clientFirstNameContPers1,"onUpdate:modelValue":l[32]||(l[32]=l=>e.clientFirstNameContPers1=l)},null,8,["disable","modelValue"])]),(0,a._)("div",oe,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Prenume",modelValue:e.clientLastNameContPers1,"onUpdate:modelValue":l[33]||(l[33]=l=>e.clientLastNameContPers1=l)},null,8,["disable","modelValue"])]),(0,a._)("div",ie,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Telefon",modelValue:e.clientPhoneContPers1,"onUpdate:modelValue":l[34]||(l[34]=l=>e.clientPhoneContPers1=l)},null,8,["disable","modelValue"])]),(0,a._)("div",ce,[(0,a.Wm)(xe,{dense:"",outlined:"",disable:!e.calcResultsExist||e.disableInputs,type:"text",label:"Cine este",modelValue:e.clientWhoIsContPers1,"onUpdate:modelValue":l[35]||(l[35]=l=>e.clientWhoIsContPers1=l)},null,8,["disable","modelValue"])]),(0,a._)("div",ne,[(0,a.Wm)(ge,{size:"sm",disable:!e.calcResultsExist||e.disableInputs,"keep-color":"",color:e.clientCbHasError?"red":"primary",onBlur:l[36]||(l[36]=l=>e.clientCbHasError=!1),onFocus:l[37]||(l[37]=l=>e.clientCbHasError=!1),modelValue:e.clientCb,"onUpdate:modelValue":l[38]||(l[38]=l=>e.clientCb=l)},null,8,["disable","color","modelValue"]),(0,a._)("span",{class:(0,s.C_)(e.clientCbHasError?"text-red":"text-gray-6")}," Sunt de acord cu ............ ....... . . ...... ........... . . ................ ......... ......................... ....... . . ...... ........... . . ................ ......... ......................... ....... . . ...... ........... . . ................ ......... ......................... ....... . . ...... ........... . . ................ ......... ......................... ....... . . ...... ........... . . ................ ......... ............. ........... . . ................ ......... ......................... ....... . . ...... ........... . . ................ ......... ......................... ....... . . ...... ........... . . ................ ......... ............. ",2)]),(0,a._)("div",de,[e.bidSuccess?((0,a.wg)(),(0,a.j4)(ve,{key:0,class:"bg-positive rounded-borders text-white text-left","inline-actions":""},{action:(0,a.w5)((()=>[(0,a.Wm)(he,{flat:"",color:"white",onClick:l[39]||(l[39]=l=>e.bidSuccess=""),round:"",icon:"close"})])),default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.bidSuccess)+" ",1)])),_:1})):(0,a.kq)("",!0),e.bidError?((0,a.wg)(),(0,a.j4)(ve,{key:1,class:"bg-negative rounded-borders text-white text-left","inline-actions":""},{action:(0,a.w5)((()=>[(0,a.Wm)(he,{flat:"",color:"white",onClick:l[40]||(l[40]=l=>e.bidSuccess=""),round:"",icon:"close"})])),default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.bidError)+" ",1)])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",ue,[(0,a.Wm)(he,{color:"primary",size:"md",disable:!e.calcResultsExist||e.disableInputs,onClick:l[41]||(l[41]=l=>e.addNewBid()),label:"Trimite"},null,8,["disable"])])],512),[[o.F8,e.calcResultsExist]])])])),separator:(0,a.w5)((()=>[(0,a.Wm)(He,{color:"indigo-4",size:"25px",name:"more_vert"})])),after:(0,a.w5)((()=>[(0,a.Wm)(ye)])),_:1},8,["modelValue"])])):((0,a.wg)(),(0,a.j4)(ve,{key:0}))])),_:1})}var me=t(1959),pe=t(5474),ve=t(3413),be=t(3617),xe=t(3501);function he(e,l,t,s,o,i){const c=(0,a.up)("q-select");return(0,a.wg)(),(0,a.j4)(c,{filled:t.filled,dense:t.dense,outlined:t.outlined,value:o.model,readonly:t.readonly,disable:t.disable,error:t.error,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:o.options,onFilter:i.filterFn,onFilterAbort:i.abortFilterFn,onInputValue:i.setModel,onBlur:i.onBlur,onFocus:i.onFocus,"hide-dropdown-icon":!0,behavior:"menu",loading:o.loading,hint:t.hint,label:t.label,autocomplete:`off-autocomplete-${o.uniqId}`},{"no-option":(0,a.w5)((()=>[])),_:1},8,["filled","dense","outlined","value","readonly","disable","error","options","onFilter","onFilterAbort","onInputValue","onBlur","onFocus","loading","hint","label","autocomplete"])}const _e={name:"AutocompleteField",props:{outlined:{type:Boolean,default:!1},filled:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},label:{type:String,default:""},value:{type:String,default:""},hint:{type:String,default:""},what:{type:String,default:""},forceValue:{type:String,default:""}},data(){return{model:null,options:[],loading:!1,uniqId:`id${Math.random().toString(16).slice(2)}`}},emits:["blur","input","focus"],methods:{filterFn(e,l){l((()=>{this.loading=!0,pe.api.post("/autocomplete",{search:this.what?this.what:this.label,q:this.model}).then((e=>{this.loading=!1;const t=[];e.data.data.data&&e.data.data.data.forEach((e=>{-1===t.indexOf(e)&&t.push(e.text)})),this.options=t,l()})).catch((()=>{this.loading=!1}))}))},abortFilterFn(){},setModel(e){this.model=e},onBlur(e){this.$emit("blur",e)},onFocus(e){this.$emit("focus",e)}},watch:{model(e){this.$emit("input",e)},value(e){this.setModel(e)}},mounted(){this.forceValue&&this.setModel(this.forceValue)}};var ge=t(4260),He=t(8516),ye=t(3414),Ve=t(2035),we=t(7518),Ee=t.n(we);const fe=(0,ge.Z)(_e,[["render",he]]),Ce=fe;Ee()(_e,"components",{QSelect:He.Z,QItem:ye.Z,QItemSection:Ve.Z});const qe=(0,a.aZ)({name:"Calculator",components:{AutocompleteField:Ce,BidsListForCalculator:xe.Z},setup(){const e=(0,me.iH)(580),l=(0,be.oR)(),t=(0,me.iH)(!1),s=(0,me.iH)(!1),o=(0,me.iH)(!1),i=(0,a.Fl)((()=>!!l.getters["auth/getToken"])),c=(0,me.iH)(null),n=(0,me.iH)(""),d=(0,me.iH)(null),u=(0,me.iH)({}),r=(0,me.iH)([]),m=(0,me.iH)([]),p=(0,me.iH)(0),v=(0,me.iH)(0),b=(0,me.iH)(!1),x=new Date,h=(0,me.iH)((0,ve.vc)(x,"DD.MM.YYYY")),_=(0,me.iH)((0,ve.vc)(x,"YYYY/MM/DD")),g=(0,me.iH)((0,ve.vc)(new Date(x.setMonth(x.getMonth()+1)),"YYYY/MM/DD")),H=(0,me.iH)(!1),y=(0,me.iH)(""),V=(0,me.iH)(!1),w=(0,me.iH)(""),E=(0,me.iH)(!1),f=(0,me.iH)(""),C=(0,me.iH)(!1),q=(0,me.iH)(""),B=(0,me.iH)(!1),D=(0,me.iH)(""),P=(0,me.iH)(!1),N=(0,me.iH)(""),F=(0,me.iH)(!1),I=(0,me.iH)(""),k=(0,me.iH)(!1),S=(0,me.iH)(""),R=(0,me.iH)(""),W=(0,me.iH)(""),U=(0,me.iH)(""),L=(0,me.iH)(0),z=(0,me.iH)(""),M=(0,me.iH)(""),Z=(0,me.iH)(""),T=(0,me.iH)(!1),A=(0,me.iH)(!1),Q=(0,me.iH)(""),Y=(0,me.iH)(""),j=(0,a.Fl)((()=>l.getters["auth/getUser"]));(0,a.m0)((()=>{s.value=j.value.role_id===ve.M6,t.value=j.value.role_id===ve.i,o.value=j.value.role_id===ve.Vz}));const O=(0,a.Fl)((()=>ve.Ah));l.commit("auth/updateActiveModule","Calculator");const $=()=>{(0,ve.WW)(1,"/print/pre-contract","pre-contract")},G=()=>{r.value.forEach((e=>{!e||e.id!==d.value||u.value&&u.value.id&&u.value.id===e.id||(u.value=e,v.value=e.months_fix,p.value||(p.value=e.sum_min>1?e.sum_min:1e3))}))},K=e=>g.value&&_.value?e>=_.value&&e<=g.value:g.value?e<=g.value:!_.value||e<=_.value,J=()=>{b.value=!0,n.value="",Q.value="",Y.value="",pe.api.post("/type-credits-calculate",{sum:p.value,date:h.value,type:u.value.id,months:v.value}).then((e=>{b.value=!1,e.data.success?c.value=e.data.data:n.value=e.data.data.message})).catch((e=>{b.value=!1,(0,ve.NU)({},e)}))},X=()=>{c.value=null,b.value=!1,n.value="",y.value="",w.value="",f.value="",q.value="",D.value="",N.value="",I.value="",T.value=!1,A.value=!1},ee=()=>{if(A.value=!1,y.value||(V.value=!0),w.value||(E.value=!0),f.value||(C.value=!0),q.value||(B.value=!0),D.value&&13===D.value.length||(P.value=!0),N.value||(F.value=!0),I.value||(k.value=!0),T.value||(A.value=!0),Y.value="",Q.value="",!V.value&&!E.value&&!C.value&&!B.value&&!P.value&&!F.value&&!k.value&&!A.value&&H.value&&u.value&&u.value.id){const e={first_name:y.value,last_name:w.value,phone1:f.value,birth_date:N.value,buletin_sn:q.value,buletin_idnp:D.value,localitate:I.value,street:S.value,house:R.value,flat:W.value,who_is_cont_pers1:U.value,dealer:L.value,phone_cont_pers1:z.value,last_name_cont_pers1:M.value,first_name_cont_pers1:Z.value,type_credit_id:u.value.id,type_credit_name:u.value.name,calc_results:c.value,first_pay_date:h.value,months:v.value,imprumut:p.value,total_dobinda:c.value.tabelTotal.dobinda,total_comision:c.value.tabelTotal.comision,total_comision_admin:c.value.tabelTotal.comisionAdmin};b.value=!0,pe.api.post("/bids/add-or-edit/0",e).then((e=>{b.value=!1,e.data.success?(Y.value="Cererea a fost trimisă cu succes! În scurt timp (5-7min) clientul va primi un apel telefonic",X(),l.commit("users/updateRefreshGridBidsCalculator",!0)):Q.value=e.data.data.message})).catch((e=>{b.value=!1,(0,ve.NU)({},e)}))}};return(0,a.m0)((()=>{d.value&&G()})),(0,a.m0)((()=>{H.value=c.value&&c.value.tabel})),(0,a.bv)((()=>{pe.api.post("/type-credits-list",{}).then((e=>{(0,ve.Zk)(),e.data.success&&e.data.data.data.forEach(((e,l)=>{r.value.push(e),0===l&&(d.value=e.id)}))})).catch((e=>{(0,ve.Zk)(),(0,ve.NU)({},e)})),pe.api.post("/dealers-list",{}).then((e=>{(0,ve.Zk)(),e.data.success&&e.data.data.data.forEach(((e,l)=>{m.value.push(e),0===l&&(L.value=e.id)}))})).catch((e=>{(0,ve.Zk)(),(0,ve.NU)({},e)}))})),{isExecutor:s,isAdmin:t,isDealer:o,authenticated:i,typeCredits:d,typeCreditsOptions:r,typeCreditsSelected:u,creditMonths:v,creditSum:p,creditDate:h,disableInputs:b,calendarOptions:K,calendarLocaleRoLocal:O,calculate:J,calcError:n,calcResults:c,calcResultsExist:H,printPreContract:$,clearCalcResults:X,clientFirstName:y,clientFirstNameHasError:V,clientLastName:w,clientLastNameHasError:E,clientPhone:f,clientPhoneHasError:C,clientBuletinSN:q,clientBuletinSNHasError:B,clientBuletinIDNP:D,clientBuletinIDNPHasError:P,clientBirthDate:N,clientBirthDateHasError:F,clientLocalitate:I,clientLocalitateHasError:k,clientStreet:S,clientHouse:R,clientFlat:W,dealer:L,clientWhoIsContPers1:U,clientPhoneContPers1:z,clientLastNameContPers1:M,clientFirstNameContPers1:Z,clientCb:T,clientCbHasError:A,addNewBid:ee,bidError:Q,bidSuccess:Y,splitterModel:e,dealerOptions:m}}});var Be=t(4379),De=t(5607),Pe=t(218),Ne=t(151),Fe=t(4842),Ie=t(4554),ke=t(3944),Se=t(6915),Re=t(2165),We=t(5735),Ue=t(677);const Le=(0,ge.Z)(qe,[["render",re]]),ze=Le;Ee()(qe,"components",{QPage:Be.Z,QBanner:De.Z,QSplitter:Pe.Z,QSelect:He.Z,QCard:Ne.Z,QInput:Fe.Z,QIcon:Ie.Z,QPopupProxy:ke.Z,QDate:Se.Z,QBtn:Re.Z,QCheckbox:We.Z}),Ee()(qe,"directives",{ClosePopup:Ue.Z})}}]);